function g(a){throw a;}var i=void 0,j=!0,m=null,n=!1;function p(){return function(){}}function r(a){return function(){return this[a]}}function aa(a){return function(){return a}}var s,t=this;function ba(a,b){var c=a.split("."),d=t;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var f;c.length&&(f=c.shift());)!c.length&&ca(b)?d[f]=b:d=d[f]?d[f]:d[f]={}}function da(){}function ea(a){a.ob=function(){return a.Ad?a.Ad:a.Ad=new a}}
function fa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ca(a){return a!==i}function ga(a){return"array"==fa(a)}function ha(a){var b=fa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function u(a){return"string"==typeof a}function v(a){return"function"==fa(a)}function ia(a){var b=typeof a;return"object"==b&&a!=m||"function"==b}function ja(a){return a[ka]||(a[ka]=++la)}var ka="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),la=0;
function ma(a,b,c){return a.call.apply(a.bind,arguments)}function na(a,b,c){a||g(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function oa(a,b,c){oa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ma:na;return oa.apply(m,arguments)}
function pa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var qa=Date.now||function(){return+new Date};function z(a,b){function c(){}c.prototype=b.prototype;a.I=b.prototype;a.prototype=new c;a.prototype.constructor=a};function ra(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function sa(a){if(!ta.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ua,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(va,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(wa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(xa,"&quot;"));return a}var ua=/&/g,va=/</g,wa=/>/g,xa=/\"/g,ta=/[&<>\"]/;function ya(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};var B=Array.prototype,za=B.indexOf?function(a,b,c){return B.indexOf.call(a,b,c)}:function(a,b,c){c=c==m?0:0>c?Math.max(0,a.length+c):c;if(u(a))return!u(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},C=B.forEach?function(a,b,c){B.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=u(a)?a.split(""):a,e=0;e<d;e++)e in f&&b.call(c,f[e],e,a)},Aa=B.filter?function(a,b,c){return B.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],e=0,h=u(a)?a.split(""):
a,k=0;k<d;k++)if(k in h){var l=h[k];b.call(c,l,k,a)&&(f[e++]=l)}return f},Ba=B.map?function(a,b,c){return B.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),e=u(a)?a.split(""):a,h=0;h<d;h++)h in e&&(f[h]=b.call(c,e[h],h,a));return f},Ca=B.every?function(a,b,c){return B.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=u(a)?a.split(""):a,e=0;e<d;e++)if(e in f&&!b.call(c,f[e],e,a))return n;return j};
function Da(a,b){var c;a:{c=a.length;for(var d=u(a)?a.split(""):a,f=0;f<c;f++)if(f in d&&b.call(i,d[f],f,a)){c=f;break a}c=-1}return 0>c?m:u(a)?a.charAt(c):a[c]}function Ea(a,b){return 0<=za(a,b)}function D(a,b){var c=za(a,b);0<=c&&B.splice.call(a,c,1)}function Fa(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Ga(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],f;if(ga(d)||(f=ha(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(f)for(var e=a.length,h=d.length,k=0;k<h;k++)a[e+k]=d[k];else a.push(d)}}function Ha(a,b,c){return 2>=arguments.length?B.slice.call(a,b):B.slice.call(a,b,c)}function Ia(a,b){return a>b?1:a<b?-1:0};var Ja,Ka,La,Ma,Na;function Oa(){return t.navigator?t.navigator.userAgent:m}function Pa(){return t.navigator}Ma=La=Ka=Ja=n;var Qa;if(Qa=Oa()){var Ra=Pa();Ja=0==Qa.indexOf("Opera");Ka=!Ja&&-1!=Qa.indexOf("MSIE");La=!Ja&&-1!=Qa.indexOf("WebKit");Ma=!Ja&&!La&&"Gecko"==Ra.product}var Sa=Ja,E=Ka,F=Ma,H=La,Ta=Pa();Na=-1!=(Ta&&Ta.platform||"").indexOf("Mac");var Ua=!!Pa()&&-1!=(Pa().appVersion||"").indexOf("X11"),Va;
a:{var Wa="",Xa;if(Sa&&t.opera)var Ya=t.opera.version,Wa="function"==typeof Ya?Ya():Ya;else if(F?Xa=/rv\:([^\);]+)(\)|;)/:E?Xa=/MSIE\s+([^\);]+)(\)|;)/:H&&(Xa=/WebKit\/(\S+)/),Xa)var Za=Xa.exec(Oa()),Wa=Za?Za[1]:"";if(E){var $a,ab=t.document;$a=ab?ab.documentMode:i;if($a>parseFloat(Wa)){Va=String($a);break a}}Va=Wa}var bb={};
function I(a){var b;if(!(b=bb[a])){b=0;for(var c=ra(String(Va)).split("."),d=ra(String(a)).split("."),f=Math.max(c.length,d.length),e=0;0==b&&e<f;e++){var h=c[e]||"",k=d[e]||"",l=RegExp("(\\d*)(\\D*)","g"),q=RegExp("(\\d*)(\\D*)","g");do{var w=l.exec(h)||["","",""],y=q.exec(k)||["","",""];if(0==w[0].length&&0==y[0].length)break;b=((0==w[1].length?0:parseInt(w[1],10))<(0==y[1].length?0:parseInt(y[1],10))?-1:(0==w[1].length?0:parseInt(w[1],10))>(0==y[1].length?0:parseInt(y[1],10))?1:0)||((0==w[2].length)<
(0==y[2].length)?-1:(0==w[2].length)>(0==y[2].length)?1:0)||(w[2]<y[2]?-1:w[2]>y[2]?1:0)}while(0==b)}b=bb[a]=0<=b}return b}var cb={};function db(a){return cb[a]||(cb[a]=E&&!!document.documentMode&&document.documentMode>=a)};var eb,fb=!E||db(9);!F&&!E||E&&db(9)||F&&I("1.9.1");E&&I("9");var gb=E||Sa||H;function hb(a){a=a.className;return u(a)&&a.match(/\S+/g)||[]}function ib(a,b){var c=hb(a),d=Ha(arguments,1),f=c.length+d.length;jb(c,d);a.className=c.join(" ");return c.length==f}function kb(a,b){var c=hb(a),d=Ha(arguments,1),f=lb(c,d);a.className=f.join(" ");return f.length==c.length-d.length}function jb(a,b){for(var c=0;c<b.length;c++)Ea(a,b[c])||a.push(b[c])}function lb(a,b){return Aa(a,function(a){return!Ea(b,a)})}
function mb(a,b,c){var d=hb(a);u(b)?D(d,b):ga(b)&&(d=lb(d,b));u(c)&&!Ea(d,c)?d.push(c):ga(c)&&jb(d,c);a.className=d.join(" ")};function J(a,b){this.x=ca(a)?a:0;this.y=ca(b)?b:0};function nb(a,b){this.width=a;this.height=b}nb.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};nb.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function ob(a,b){for(var c in a)b.call(i,a[c],c,a)}var pb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qb(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var e=0;e<pb.length;e++)c=pb[e],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function rb(a){return a?new sb(K(a)):eb||(eb=new sb)}function tb(){var a,b,c,d;a=document;if(a.querySelectorAll&&a.querySelector)return a.querySelectorAll(".openseadragon-container");if(a.getElementsByClassName){var f=a.getElementsByClassName("openseadragon-container");return f}f=a.getElementsByTagName("*");d={};for(b=c=0;a=f[b];b++){var e=a.className;"function"==typeof e.split&&Ea(e.split(/\s+/),"openseadragon-container")&&(d[c++]=a)}d.length=c;return d}
function ub(a,b){ob(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in vb?a.setAttribute(vb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var vb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function wb(a,b,c){var d=arguments,f=document,e=d[0],h=d[1];if(!fb&&h&&(h.name||h.type)){e=["<",e];h.name&&e.push(' name="',sa(h.name),'"');if(h.type){e.push(' type="',sa(h.type),'"');var k={};qb(k,h);delete k.type;h=k}e.push(">");e=e.join("")}e=f.createElement(e);h&&(u(h)?e.className=h:ga(h)?ib.apply(m,[e].concat(h)):ub(e,h));2<d.length&&xb(f,e,d,2);return e}
function xb(a,b,c,d){function f(c){c&&b.appendChild(u(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var e=c[d];if(ha(e)&&!(ia(e)&&0<e.nodeType)){var h;a:{if(e&&"number"==typeof e.length){if(ia(e)){h="function"==typeof e.item||"string"==typeof e.item;break a}if(v(e)){h="function"==typeof e.item;break a}}h=n}C(h?Fa(e):e,f)}else f(e)}}function yb(a){for(var b;b=a.firstChild;)a.removeChild(b)}function zb(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function Ab(a){return ia(a)&&1==a.nodeType}
function Bb(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function K(a){return 9==a.nodeType?a:a.ownerDocument||a.document}function Cb(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?(a=a.tabIndex,"number"==typeof a&&0<=a&&32768>a):n}function sb(a){this.L=a||t.document||document}s=sb.prototype;s.od=rb;
s.d=function(a){return u(a)?this.L.getElementById(a):a};s.fa=ub;s.createElement=function(a){return this.L.createElement(a)};s.createTextNode=function(a){return this.L.createTextNode(a)};function Db(a){var b=a.L,a=!H?b.documentElement:b.body,b=b.parentWindow||b.defaultView;return new J(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}s.appendChild=function(a,b){a.appendChild(b)};s.append=function(a,b){xb(K(a),a,arguments,1)};s.contains=Bb;var Eb;Eb=aa(j);/*
 Portions of this code are from the Dojo Toolkit, received by
 The Closure Library Authors under the BSD license. All other code is
 Copyright 2005-2009 The Closure Library Authors. All Rights Reserved.

The "New" BSD License:

Copyright (c) 2005-2009, The Dojo Foundation
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

 Redistributions of source code must retain the above copyright notice, this
    list of conditions and the following disclaimer.
 Redistributions in binary form must reproduce the above copyright notice,
    this list of conditions and the following disclaimer in the documentation
    and/or other materials provided with the distribution.
 Neither the name of the Dojo Foundation nor the names of its contributors
    may be used to endorse or promote products derived from this software
    without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
function Fb(a,b){var c=b||[];a&&c.push(a);return c}var Gb=H&&"BackCompat"==document.compatMode,Hb=document.firstChild.children?"children":"childNodes",Ib=n;
function Jb(a){function b(){0<=q&&(x.id=c(q,A).replace(/\\/g,""),q=-1);if(0<=w){var a=w==A?m:c(w,A);0>">~+".indexOf(a)?x.D=a:x.Qb=a;w=-1}0<=l&&(x.ba.push(c(l+1,A).replace(/\\/g,"")),l=-1)}function c(b,c){return ra(a.slice(b,c))}for(var a=0<=">~+".indexOf(a.slice(-1))?a+" * ":a+" ",d=[],f=-1,e=-1,h=-1,k=-1,l=-1,q=-1,w=-1,y="",G="",T,A=0,Ke=a.length,x=m,L=m;y=G,G=a.charAt(A),A<Ke;A++)if("\\"!=y)if(x||(T=A,x={Ta:m,Aa:[],zb:[],ba:[],D:m,Qb:m,id:m,qc:function(){return Ib?this.ge:this.D}},w=A),0<=f)if("]"==
G){L.nc?L.xc=c(h||f+1,A):L.nc=c(f+1,A);if((f=L.xc)&&('"'==f.charAt(0)||"'"==f.charAt(0)))L.xc=f.slice(1,-1);x.zb.push(L);L=m;f=h=-1}else"="==G&&(h=0<="|~^$*".indexOf(y)?y:"",L.type=h+G,L.nc=c(f+1,A-h.length),h=A+1);else 0<=e?")"==G&&(0<=k&&(L.value=c(e+1,A)),k=e=-1):"#"==G?(b(),q=A+1):"."==G?(b(),l=A):":"==G?(b(),k=A):"["==G?(b(),f=A,L={}):"("==G?(0<=k&&(L={name:c(k+1,A),value:m},x.Aa.push(L)),e=A):" "==G&&y!=G&&(b(),0<=k&&x.Aa.push({name:c(k+1,A)}),x.Dd=x.Aa.length||x.zb.length||x.ba.length,x.xe=
x.Ta=c(T,A),x.ge=x.D=x.Qb?m:x.D||"*",x.D&&(x.D=x.D.toUpperCase()),d.length&&d[d.length-1].Qb&&(x.zd=d.pop(),x.Ta=x.zd.Ta+" "+x.Ta),d.push(x),x=m);return d}function Kb(a,b){return!a?b:!b?a:function(){return a.apply(window,arguments)&&b.apply(window,arguments)}}function Lb(a){return 1==a.nodeType}function Mb(a,b){return!a?"":"class"==b?a.className||"":"for"==b?a.htmlFor||"":"style"==b?a.style.cssText||"":(Ib?a.getAttribute(b):a.getAttribute(b,2))||""}
var Nb={"*=":function(a,b){return function(c){return 0<=Mb(c,a).indexOf(b)}},"^=":function(a,b){return function(c){return 0==Mb(c,a).indexOf(b)}},"$=":function(a,b){return function(c){c=" "+Mb(c,a);return c.lastIndexOf(b)==c.length-b.length}},"~=":function(a,b){var c=" "+b+" ";return function(b){return 0<=(" "+Mb(b,a)+" ").indexOf(c)}},"|=":function(a,b){b=" "+b;return function(c){c=" "+Mb(c,a);return c==b||0==c.indexOf(b+"-")}},"=":function(a,b){return function(c){return Mb(c,a)==b}}},Ob="undefined"==
typeof document.firstChild.nextElementSibling,Pb=!Ob?"nextElementSibling":"nextSibling",Qb=!Ob?"previousElementSibling":"previousSibling",Rb=Ob?Lb:Eb;function Sb(a){for(;a=a[Qb];)if(Rb(a))return n;return j}function Tb(a){for(;a=a[Pb];)if(Rb(a))return n;return j}function Ub(a){var b=a.parentNode,c=0,d=b[Hb],f=a._i||-1,e=b._l||-1;if(!d)return-1;d=d.length;if(e==d&&0<=f&&0<=e)return f;b._l=d;f=-1;for(b=b.firstElementChild||b.firstChild;b;b=b[Pb])Rb(b)&&(b._i=++c,a===b&&(f=c));return f}
function Vb(a){return!(Ub(a)%2)}function Wb(a){return Ub(a)%2}
var Yb={checked:function(){return function(a){return a.checked||a.attributes.checked}},"first-child":function(){return Sb},"last-child":function(){return Tb},"only-child":function(){return function(a){return!Sb(a)||!Tb(a)?n:j}},empty:function(){return function(a){for(var b=a.childNodes,a=a.childNodes.length-1;0<=a;a--){var c=b[a].nodeType;if(1===c||3==c)return n}return j}},contains:function(a,b){var c=b.charAt(0);if('"'==c||"'"==c)b=b.slice(1,-1);return function(a){return 0<=a.innerHTML.indexOf(b)}},
not:function(a,b){var c=Jb(b)[0],d={z:1};"*"!=c.D&&(d.D=1);c.ba.length||(d.ba=1);var f=Xb(c,d);return function(a){return!f(a)}},"nth-child":function(a,b){if("odd"==b)return Wb;if("even"==b)return Vb;if(-1!=b.indexOf("n")){var c=b.split("n",2),d=c[0]?"-"==c[0]?-1:parseInt(c[0],10):1,f=c[1]?parseInt(c[1],10):0,e=0,h=-1;0<d?0>f?f=f%d&&d+f%d:0<f&&(f>=d&&(e=f-f%d),f%=d):0>d&&(d*=-1,0<f&&(h=f,f%=d));if(0<d)return function(a){a=Ub(a);return a>=e&&(0>h||a<=h)&&a%d==f};b=f}var k=parseInt(b,10);return function(a){return Ub(a)==
k}}},Zb=E?function(a){var b=a.toLowerCase();"class"==b&&(a="className");return function(c){return Ib?c.getAttribute(a):c[a]||c[b]}}:function(a){return function(b){return b&&b.getAttribute&&b.hasAttribute(a)}};
function Xb(a,b){if(!a)return Eb;var b=b||{},c=m;b.z||(c=Kb(c,Lb));b.D||"*"!=a.D&&(c=Kb(c,function(b){return b&&b.tagName==a.qc()}));b.ba||C(a.ba,function(a,b){var e=RegExp("(?:^|\\s)"+a+"(?:\\s|$)");c=Kb(c,function(a){return e.test(a.className)});c.count=b});b.Aa||C(a.Aa,function(a){var b=a.name;Yb[b]&&(c=Kb(c,Yb[b](b,a.value)))});b.zb||C(a.zb,function(a){var b,e=a.nc;a.type&&Nb[a.type]?b=Nb[a.type](e,a.xc):e.length&&(b=Zb(e));b&&(c=Kb(c,b))});b.id||a.id&&(c=Kb(c,function(b){return!!b&&b.id==a.id}));
c||"default"in b||(c=Eb);return c}var $b={};
function ac(a){var b=$b[a.Ta];if(b)return b;var c=a.zd,c=c?c.Qb:"",d=Xb(a,{z:1}),f="*"==a.D,e=document.getElementsByClassName;if(c)if(e={z:1},f&&(e.D=1),d=Xb(a,e),"+"==c)var h=d,b=function(a,b,c){for(;a=a[Pb];)if(!Ob||Lb(a)){(!c||bc(a,c))&&h(a)&&b.push(a);break}return b};else if("~"==c)var k=d,b=function(a,b,c){for(a=a[Pb];a;){if(Rb(a)){if(c&&!bc(a,c))break;k(a)&&b.push(a)}a=a[Pb]}return b};else{if(">"==c)var l=d,l=l||Eb,b=function(a,b,c){for(var d=0,f=a[Hb];a=f[d++];)Rb(a)&&((!c||bc(a,c))&&l(a,d))&&
b.push(a);return b}}else if(a.id)d=!a.Dd&&f?Eb:Xb(a,{z:1,id:1}),b=function(b,c){var f=rb(b).d(a.id),e;if(e=f&&d(f))if(!(e=9==b.nodeType)){for(e=f.parentNode;e&&e!=b;)e=e.parentNode;e=!!e}if(e)return Fb(f,c)};else if(e&&/\{\s*\[native code\]\s*\}/.test(String(e))&&a.ba.length&&!Gb)var d=Xb(a,{z:1,ba:1,id:1}),q=a.ba.join(" "),b=function(a,b){for(var c=Fb(0,b),f,e=0,h=a.getElementsByClassName(q);f=h[e++];)d(f,a)&&c.push(f);return c};else!f&&!a.Dd?b=function(b,c){for(var d=Fb(0,c),f,e=0,h=b.getElementsByTagName(a.qc());f=
h[e++];)d.push(f);return d}:(d=Xb(a,{z:1,D:1,id:1}),b=function(b,c){for(var f=Fb(0,c),e,h=0,k=b.getElementsByTagName(a.qc());e=k[h++];)d(e,b)&&f.push(e);return f});return $b[a.Ta]=b}var cc={},dc={};function ec(a){var b=Jb(ra(a));if(1==b.length){var c=ac(b[0]);return function(a){if(a=c(a,[]))a.Pb=j;return a}}return function(a){for(var a=Fb(a),c,e,h=b.length,k,l,q=0;q<h;q++){l=[];c=b[q];e=a.length-1;0<e&&(k={},l.Pb=j);e=ac(c);for(var w=0;c=a[w];w++)e(c,l,k);if(!l.length)break;a=l}return l}}
var fc=!!document.querySelectorAll&&(!H||I("526"));
function gc(a,b){if(fc){var c=dc[a];if(c&&!b)return c}if(c=cc[a])return c;var c=a.charAt(0),d=-1==a.indexOf(" ");0<=a.indexOf("#")&&d&&(b=j);if(fc&&!b&&-1==">~+".indexOf(c)&&(!E||-1==a.indexOf(":"))&&!(Gb&&0<=a.indexOf("."))&&-1==a.indexOf(":contains")&&-1==a.indexOf("|=")){var f=0<=">~+".indexOf(a.charAt(a.length-1))?a+" *":a;return dc[a]=function(b){try{9==b.nodeType||d||g("");var c=b.querySelectorAll(f);E?c.Sd=j:c.Pb=j;return c}catch(e){return gc(a,j)(b)}}}var e=a.split(/\s*,\s*/);return cc[a]=
2>e.length?ec(a):function(a){for(var b=0,c=[],d;d=e[b++];)c=c.concat(ec(d)(a));return c}}var hc=0,ic=E?function(a){return Ib?a.getAttribute("_uid")||a.setAttribute("_uid",++hc)||hc:a.uniqueID}:function(a){return a._uid||(a._uid=++hc)};function bc(a,b){if(!b)return 1;var c=ic(a);return!b[c]?b[c]=1:0}
function jc(a){if(a&&a.Pb)return a;var b=[];if(!a||!a.length)return b;a[0]&&b.push(a[0]);if(2>a.length)return b;hc++;if(E&&Ib){var c=hc+"";a[0].setAttribute("_zipIdx",c);for(var d=1,f;f=a[d];d++)a[d].getAttribute("_zipIdx")!=c&&b.push(f),f.setAttribute("_zipIdx",c)}else if(E&&a.Sd)try{for(d=1;f=a[d];d++)Lb(f)&&b.push(f)}catch(e){}else{a[0]&&(a[0]._zipIdx=hc);for(d=1;f=a[d];d++)a[d]._zipIdx!=hc&&b.push(f),f._zipIdx=hc}return b}
function M(a,b){if(!a)return[];if(a.constructor==Array)return a;if(!u(a))return[a];if(u(b)&&(b=u(b)?document.getElementById(b):b,!b))return[];var b=b||document,c=b.ownerDocument||b.documentElement;Ib=b.contentType&&"application/xml"==b.contentType||Sa&&(b.doctype||"[object XMLDocument]"==c.toString())||!!c&&(E?c.xml:b.xmlVersion||c.xmlVersion);return(c=gc(a)(b))&&c.Pb?c:jc(c)}M.Aa=Yb;ba("goog.dom.query",M);ba("goog.dom.query.pseudos",M.Aa);var kc=!E||db(9),lc=!E||db(9),mc=E&&!I("9");!H||I("528");F&&I("1.9b")||E&&I("8")||Sa&&I("9.5")||H&&I("528");F&&!I("8")||E&&I("9");function nc(){0!=oc&&(this.re=Error().stack,ja(this))}var oc=0;nc.prototype.kd=n;function pc(a,b){this.type=a;this.currentTarget=this.target=b}s=pc.prototype;s.za=n;s.defaultPrevented=n;s.Ub=j;s.stopPropagation=function(){this.za=j};s.preventDefault=function(){this.defaultPrevented=j;this.Ub=n};function qc(a){a.preventDefault()};function rc(a){rc[" "](a);return a}rc[" "]=da;function sc(a,b){a&&this.init(a,b)}z(sc,pc);var tc=[1,4,2];s=sc.prototype;s.target=m;s.relatedTarget=m;s.offsetX=0;s.offsetY=0;s.clientX=0;s.clientY=0;s.screenX=0;s.screenY=0;s.button=0;s.keyCode=0;s.charCode=0;s.ctrlKey=n;s.altKey=n;s.shiftKey=n;s.metaKey=n;s.Bc=n;s.n=m;
s.init=function(a,b){var c=this.type=a.type;pc.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(F){var f;a:{try{rc(d.nodeName);f=j;break a}catch(e){}f=n}f||(d=m)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=H||a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=H||a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Bc=Na?a.metaKey:a.ctrlKey;this.state=a.state;this.n=a;a.defaultPrevented&&this.preventDefault();delete this.za};function uc(a){return(kc?0==a.n.button:"click"==a.type?j:!!(a.n.button&tc[0]))&&!(H&&Na&&a.ctrlKey)}
s.stopPropagation=function(){sc.I.stopPropagation.call(this);this.n.stopPropagation?this.n.stopPropagation():this.n.cancelBubble=j};s.preventDefault=function(){sc.I.preventDefault.call(this);var a=this.n;if(a.preventDefault)a.preventDefault();else if(a.returnValue=n,mc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};s.Td=r("n");function vc(){}var wc=0;s=vc.prototype;s.key=0;s.Ba=n;s.ed=n;s.init=function(a,b,c,d,f,e){v(a)?this.Cd=j:a&&a.handleEvent&&v(a.handleEvent)?this.Cd=n:g(Error("Invalid listener argument"));this.Sa=a;this.Gd=b;this.src=c;this.type=d;this.capture=!!f;this.Oa=e;this.ed=n;this.key=++wc;this.Ba=n};s.handleEvent=function(a){return this.Cd?this.Sa.call(this.Oa||this.src,a):this.Sa.handleEvent.call(this.Sa,a)};var xc={},N={},yc={},zc={};
function O(a,b,c,d,f){if(b){if(ga(b)){for(var e=0;e<b.length;e++)O(a,b[e],c,d,f);return m}var d=!!d,h=N;b in h||(h[b]={m:0,N:0});h=h[b];d in h||(h[d]={m:0,N:0},h.m++);var h=h[d],k=ja(a),l;h.N++;if(h[k]){l=h[k];for(e=0;e<l.length;e++)if(h=l[e],h.Sa==c&&h.Oa==f){if(h.Ba)break;return l[e].key}}else l=h[k]=[],h.m++;var q=Ac,w=lc?function(a){return q.call(w.src,w.key,a)}:function(a){a=q.call(w.src,w.key,a);if(!a)return a},e=w;e.src=a;h=new vc;h.init(c,e,a,b,d,f);c=h.key;e.key=c;l.push(h);xc[c]=h;yc[k]||
(yc[k]=[]);yc[k].push(h);a.addEventListener?(a==t||!a.gd)&&a.addEventListener(b,e,d):a.attachEvent(b in zc?zc[b]:zc[b]="on"+b,e);return c}g(Error("Invalid event type"))}function Bc(a,b,c,d,f){if(ga(b))for(var e=0;e<b.length;e++)Bc(a,b[e],c,d,f);else if(d=!!d,a=Cc(a,b,d))for(e=0;e<a.length;e++)if(a[e].Sa==c&&a[e].capture==d&&a[e].Oa==f){P(a[e].key);break}}
function P(a){if(!xc[a])return n;var b=xc[a];if(b.Ba)return n;var c=b.src,d=b.type,f=b.Gd,e=b.capture;c.removeEventListener?(c==t||!c.gd)&&c.removeEventListener(d,f,e):c.detachEvent&&c.detachEvent(d in zc?zc[d]:zc[d]="on"+d,f);c=ja(c);yc[c]&&(f=yc[c],D(f,b),0==f.length&&delete yc[c]);b.Ba=j;if(b=N[d][e][c])b.Fd=j,Dc(d,e,c,b);delete xc[a];return j}
function Dc(a,b,c,d){if(!d.Kb&&d.Fd){for(var f=0,e=0;f<d.length;f++)d[f].Ba?d[f].Gd.src=m:(f!=e&&(d[e]=d[f]),e++);d.length=e;d.Fd=n;0==e&&(delete N[a][b][c],N[a][b].m--,0==N[a][b].m&&(delete N[a][b],N[a].m--),0==N[a].m&&delete N[a])}}function Cc(a,b,c){var d=N;return b in d&&(d=d[b],c in d&&(d=d[c],a=ja(a),d[a]))?d[a]:m}
function Ec(a,b,c,d,f){var e=1,b=ja(b);if(a[b]){a.N--;a=a[b];a.Kb?a.Kb++:a.Kb=1;try{for(var h=a.length,k=0;k<h;k++){var l=a[k];l&&!l.Ba&&(e&=Fc(l,f)!==n)}}finally{a.Kb--,Dc(c,d,b,a)}}return Boolean(e)}function Fc(a,b){a.ed&&P(a.key);return a.handleEvent(b)}
function Ac(a,b){if(!xc[a])return j;var c=xc[a],d=c.type,f=N;if(!(d in f))return j;var f=f[d],e,h;if(!lc){var k;if(!(k=b))a:{k=["window","event"];for(var l=t;e=k.shift();)if(l[e]!=m)l=l[e];else{k=m;break a}k=l}e=k;k=j in f;l=n in f;if(k){if(0>e.keyCode||e.returnValue!=i)return j;a:{var q=n;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(w){q=j}if(q||e.returnValue==i)e.returnValue=j}}q=new sc;q.init(e,this);e=j;try{if(k){for(var y=[],G=q.currentTarget;G;G=G.parentNode)y.push(G);h=f[j];h.N=h.m;for(var T=
y.length-1;!q.za&&0<=T&&h.N;T--)q.currentTarget=y[T],e&=Ec(h,y[T],d,j,q);if(l){h=f[n];h.N=h.m;for(T=0;!q.za&&T<y.length&&h.N;T++)q.currentTarget=y[T],e&=Ec(h,y[T],d,n,q)}}else e=Fc(c,q)}finally{y&&(y.length=0)}return e}d=new sc(b,this);return e=Fc(c,d)};function Gc(a){nc.call(this);this.wd=a;this.h=[]}z(Gc,nc);var Hc=[];function Q(a,b,c,d,f){ga(c)||(Hc[0]=c,c=Hc);for(var e=0;e<c.length;e++){var h=O(b,c[e],d||a,f||n,a.wd||a);a.h.push(h)}return a}function Ic(a,b,c,d,f,e){if(ga(c))for(var h=0;h<c.length;h++)Ic(a,b,c[h],d,f,e);else{a:{d=d||a;e=e||a.wd||a;f=!!f;if(b=Cc(b,c,f))for(c=0;c<b.length;c++)if(!b[c].Ba&&b[c].Sa==d&&b[c].capture==f&&b[c].Oa==e){b=b[c];break a}b=m}b&&(b=b.key,P(b),D(a.h,b))}return a}
Gc.prototype.Sb=function(){C(this.h,P);this.h.length=0};Gc.prototype.handleEvent=function(){g(Error("EventHandler.handleEvent not implemented"))};function Jc(){nc.call(this)}z(Jc,nc);s=Jc.prototype;s.gd=j;s.Ac=m;s.Fc=function(a){this.Ac=a};s.addEventListener=function(a,b,c,d){O(this,a,b,c,d)};s.removeEventListener=function(a,b,c,d){Bc(this,a,b,c,d)};
s.dispatchEvent=function(a){var b=a.type||a,c=N;if(b in c){if(u(a))a=new pc(a,this);else if(a instanceof pc)a.target=a.target||this;else{var d=a,a=new pc(b,this);qb(a,d)}var d=1,f,c=c[b],b=j in c,e;if(b){f=[];for(e=this;e;e=e.Ac)f.push(e);e=c[j];e.N=e.m;for(var h=f.length-1;!a.za&&0<=h&&e.N;h--)a.currentTarget=f[h],d&=Ec(e,f[h],a.type,j,a)&&a.Ub!=n}if(n in c)if(e=c[n],e.N=e.m,b)for(h=0;!a.za&&h<f.length&&e.N;h++)a.currentTarget=f[h],d&=Ec(e,f[h],a.type,n,a)&&a.Ub!=n;else for(f=this;!a.za&&f&&e.N;f=
f.Ac)a.currentTarget=f,d&=Ec(e,f,a.type,n,a)&&a.Ub!=n;a=Boolean(d)}else a=j;return a};function Kc(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}Kc.prototype.contains=function(a){return!this||!a?n:a instanceof Kc?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function Lc(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}Lc.prototype.contains=function(a){return a instanceof Lc?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function R(a,b,c){u(b)?Mc(a,c,b):ob(b,pa(Mc,a))}function Mc(a,b,c){a.style[ya(c)]=b}function S(a,b){var c=K(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,m))?c[b]||c.getPropertyValue(b)||"":""}function Nc(a,b){return a.currentStyle?a.currentStyle[b]:m}function Oc(a,b){return S(a,b)||Nc(a,b)||a.style&&a.style[b]}function Pc(a,b,c){var d,f=F&&(Na||Ua)&&I("1.9");b instanceof J?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Qc(d,f);a.style.top=Qc(b,f)}
function Rc(a){var b=a.getBoundingClientRect();E&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Sc(a){if(E&&!db(8))return a.offsetParent;for(var b=K(a),c=Oc(a,"position"),d="fixed"==c||"absolute"==c,a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Oc(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return m}
function Tc(a){var b,c=K(a),d=Oc(a,"position"),f=F&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),e=new J(0,0),h;b=c?K(c):document;if(h=E)if(h=!db(9))rb(b),h=n;h=h?b.body:b.documentElement;if(a==h)return e;if(a.getBoundingClientRect)b=Rc(a),a=Db(rb(c)),e.x=b.left+a.x,e.y=b.top+a.y;else if(c.getBoxObjectFor&&!f)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),e.x=b.screenX-a.screenX,e.y=b.screenY-a.screenY;else{f=a;do{e.x+=f.offsetLeft;
e.y+=f.offsetTop;f!=a&&(e.x+=f.clientLeft||0,e.y+=f.clientTop||0);if(H&&"fixed"==Oc(f,"position")){e.x+=c.body.scrollLeft;e.y+=c.body.scrollTop;break}f=f.offsetParent}while(f&&f!=a);if(Sa||H&&"absolute"==d)e.y-=c.body.offsetTop;for(f=a;(f=Sc(f))&&f!=c.body&&f!=h;)if(e.x-=f.scrollLeft,!Sa||"TR"!=f.tagName)e.y-=f.scrollTop}return e}function Uc(a,b){var c=Vc(a),d=Vc(b);return new J(c.x-d.x,c.y-d.y)}
function Vc(a){var b=new J;if(1==a.nodeType){if(a.getBoundingClientRect){var c=Rc(a);b.x=c.left;b.y=c.top}else{var c=Db(rb(a)),d=Tc(a);b.x=d.x-c.x;b.y=d.y-c.y}if(F&&!I(12)){var f;E?f="-ms-transform":H?f="-webkit-transform":Sa?f="-o-transform":F&&(f="-moz-transform");var e;f&&(e=Oc(a,f));e||(e=Oc(a,"transform"));e?(a=e.match(Wc),a=!a?new J(0,0):new J(parseFloat(a[1]),parseFloat(a[2]))):a=new J(0,0);b=new J(b.x+a.x,b.y+a.y)}}else f=v(a.Td),e=a,a.targetTouches?e=a.targetTouches[0]:f&&a.n.targetTouches&&
(e=a.n.targetTouches[0]),b.x=e.clientX,b.y=e.clientY;return b}function Xc(a,b,c){b instanceof nb?(c=b.height,b=b.width):c==i&&g(Error("missing height argument"));a.style.width=Qc(b,j);a.style.height=Qc(c,j)}function Qc(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}
function Yc(a){if("none"!=Oc(a,"display"))return Zc(a);var b=a.style,c=b.display,d=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=Zc(a);b.display=c;b.position=f;b.visibility=d;return a}function Zc(a){var b=a.offsetWidth,c=a.offsetHeight,d=H&&!b&&!c;return(!ca(b)||d)&&a.getBoundingClientRect?(a=Rc(a),new nb(a.right-a.left,a.bottom-a.top)):new nb(b,c)}function $c(a){var b=Tc(a),a=Yc(a);return new Lc(b.x,b.y,a.width,a.height)}
function U(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")}function V(a,b){a.style.display=b?"":"none"}function ad(a){return"rtl"==Oc(a,"direction")}var bd=F?"MozUserSelect":H?"WebkitUserSelect":m;
function cd(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var f=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return f}
function dd(a,b){if(E){var c=cd(a,Nc(a,b+"Left")),d=cd(a,Nc(a,b+"Right")),f=cd(a,Nc(a,b+"Top")),e=cd(a,Nc(a,b+"Bottom"));return new Kc(f,d,e,c)}c=S(a,b+"Left");d=S(a,b+"Right");f=S(a,b+"Top");e=S(a,b+"Bottom");return new Kc(parseFloat(f),parseFloat(d),parseFloat(e),parseFloat(c))}var ed={thin:2,medium:4,thick:6};function fd(a,b){if("none"==Nc(a,b+"Style"))return 0;var c=Nc(a,b+"Width");return c in ed?ed[c]:cd(a,c)}
function gd(a){if(E){var b=fd(a,"borderLeft"),c=fd(a,"borderRight"),d=fd(a,"borderTop"),a=fd(a,"borderBottom");return new Kc(d,c,a,b)}b=S(a,"borderLeftWidth");c=S(a,"borderRightWidth");d=S(a,"borderTopWidth");a=S(a,"borderBottomWidth");return new Kc(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var Wc=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function hd(a,b,c){nc.call(this);this.target=a;this.handle=b||a;this.vc=c||new Lc(NaN,NaN,NaN,NaN);this.L=K(a);this.ia=new Gc(this);O(this.handle,["touchstart","mousedown"],this.ke,n,this)}z(hd,Jc);var id=E||F&&I("1.9.3");s=hd.prototype;s.clientX=0;s.clientY=0;s.screenX=0;s.screenY=0;s.Kd=0;s.Ld=0;s.Ja=0;s.Ka=0;s.ld=j;s.xa=n;s.yd=0;s.ce=0;s.$d=n;s.Gc=n;s.Eb=r("ia");function jd(a){ca(a.pa)||(a.pa=ad(a.target));return a.pa}
s.ke=function(a){var b="mousedown"==a.type;if(this.ld&&!this.xa&&(!b||uc(a))){kd(a);if(0==this.yd)if(this.dispatchEvent(new ld("start",this,a.clientX,a.clientY,a)))this.xa=j,a.preventDefault();else return;else a.preventDefault();var b=this.L,c=b.documentElement,d=!id;Q(this.ia,b,["touchmove","mousemove"],this.Yd,d);Q(this.ia,b,["touchend","mouseup"],this.Bb,d);id?(c.setCapture(n),Q(this.ia,c,"losecapture",this.Bb)):Q(this.ia,b?b.parentWindow||b.defaultView:window,"blur",this.Bb);E&&this.$d&&Q(this.ia,
b,"dragstart",qc);this.ie&&Q(this.ia,this.ie,"scroll",this.fe,d);this.clientX=this.Kd=a.clientX;this.clientY=this.Ld=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.Gc?(a=this.target,b=a.offsetLeft,c=a.offsetParent,!c&&"fixed"==Oc(a,"position")&&(c=K(a).documentElement),c?(F?(d=gd(c),b+=d.left):db(8)&&(d=gd(c),b-=d.left),a=ad(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.Ja=a;this.Ka=this.target.offsetTop;this.zc=Db(rb(this.L));this.ce=qa()}else this.dispatchEvent("earlycancel")};
s.Bb=function(a,b){this.ia.Sb();id&&this.L.releaseCapture();if(this.xa){kd(a);this.xa=n;var c=md(this,this.Ja),d=nd(this,this.Ka);this.dispatchEvent(new ld("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel");("touchend"==a.type||"touchcancel"==a.type)&&a.preventDefault()};
function kd(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.init(a.n.targetTouches[0],a.currentTarget):("touchend"==b||"touchcancel"==b)&&a.init(a.n.changedTouches[0],a.currentTarget)}
s.Yd=function(a){if(this.ld){kd(a);var b=(this.Gc&&jd(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.xa){var d=this.Kd-this.clientX,f=this.Ld-this.clientY;if(d*d+f*f>this.yd)if(this.dispatchEvent(new ld("start",this,a.clientX,a.clientY,a)))this.xa=j;else{this.kd||this.Bb(a);return}}c=od(this,b,c);b=c.x;c=c.y;this.xa&&this.dispatchEvent(new ld("beforedrag",this,a.clientX,a.clientY,a,
b,c))&&(pd(this,a,b,c),a.preventDefault())}};function od(a,b,c){var d=Db(rb(a.L)),b=b+(d.x-a.zc.x),c=c+(d.y-a.zc.y);a.zc=d;a.Ja+=b;a.Ka+=c;b=md(a,a.Ja);a=nd(a,a.Ka);return new J(b,a)}s.fe=function(a){var b=od(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;pd(this,a,b.x,b.y)};function pd(a,b,c,d){a.jd(c,d);a.dispatchEvent(new ld("drag",a,b.clientX,b.clientY,b,c,d))}
function md(a,b){var c=a.vc,d=!isNaN(c.left)?c.left:m,c=!isNaN(c.width)?c.width:0;return Math.min(d!=m?d+c:Infinity,Math.max(d!=m?d:-Infinity,b))}function nd(a,b){var c=a.vc,d=!isNaN(c.top)?c.top:m,c=!isNaN(c.height)?c.height:0;return Math.min(d!=m?d+c:Infinity,Math.max(d!=m?d:-Infinity,b))}s.jd=function(a,b){this.Gc&&jd(this)?this.target.style.right=a+"px":this.target.style.left=a+"px";this.target.style.top=b+"px"};
function ld(a,b,c,d,f,e,h,k){pc.call(this,a);this.clientX=c;this.clientY=d;this.pe=f;this.left=ca(e)?e:b.Ja;this.top=ca(h)?h:b.Ka;this.te=b;this.se=!!k}z(ld,pc);function qd(a){for(var b=0,c=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)b+=a.offsetLeft-a.scrollLeft,c+=a.offsetTop-a.scrollTop,a=a.offsetParent;return{top:c,left:b}};function rd(){this.Ya=[]}rd.prototype.addHandler=function(a,b){this.Ya[a]||(this.Ya[a]=[]);this.Ya[a].push(b)};rd.prototype.Tb=function(a,b){var c=this.Ya[a];c&&D(c,b)};rd.prototype.fireEvent=function(a,b,c){var d=n;(a=this.Ya[a])&&C(a,function(a){a=a(b,c);ca(a)&&!a&&(d=j)});return d};function sd(a,b){this.X={};this.h=[];var c=arguments.length;if(1<c){c%2&&g(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){var f;if(a instanceof sd)td(a),f=a.h.concat(),d=W(a);else{var c=[],e=0;for(f in a)c[e++]=f;f=c;c=[];e=0;for(d in a)c[e++]=a[d];d=c}for(c=0;c<f.length;c++)this.set(f[c],d[c])}}s=sd.prototype;s.m=0;s.Hc=0;function W(a){td(a);for(var b=[],c=0;c<a.h.length;c++)b.push(a.X[a.h[c]]);return b}
s.clear=function(){this.X={};this.Hc=this.m=this.h.length=0};s.remove=function(a){return ud(this.X,a)?(delete this.X[a],this.m--,this.Hc++,this.h.length>2*this.m&&td(this),j):n};function td(a){if(a.m!=a.h.length){for(var b=0,c=0;b<a.h.length;){var d=a.h[b];ud(a.X,d)&&(a.h[c++]=d);b++}a.h.length=c}if(a.m!=a.h.length){for(var f={},c=b=0;b<a.h.length;)d=a.h[b],ud(f,d)||(a.h[c++]=d,f[d]=1),b++;a.h.length=c}}s.get=function(a,b){return ud(this.X,a)?this.X[a]:b};
s.set=function(a,b){ud(this.X,a)||(this.m++,this.h.push(a),this.Hc++);this.X[a]=b};function ud(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function vd(a,b){this.x=a;this.y=b};function wd(a){this.points=a}function xd(a){for(var b=0,c=a.length-1,d=0;d<a.length;d++)b+=(a[c].x+a[d].x)*(a[c].y-a[d].y),c=d;return b/2}
function yd(a,b){for(var c,d=c=0,f,e=a.length-1,h=0;h<a.length;h++)f=a[h].x*a[e].y-a[e].x*a[h].y,c+=(a[h].x+a[e].x)*f,d+=(a[h].y+a[e].y)*f,e=h;f=6*xd(a);c=new vd(Math.abs(c/f),Math.abs(d/f));d=[];for(f=0;f<a.length;f++){var e=a[f],k=(0>xd(a)?-1:1)*b,h=e.x-c.x,l=e.y-c.y,q=0<k?1:0>k?-1:0,k=Math.sqrt(Math.pow(k,2)/(1+Math.pow(h/l,2)));d.push({x:e.x+Math.abs(h/l*k)*(0<h?1:0>h?-1:0)*q,y:e.y+Math.abs(k)*(0<l?1:0>l?-1:0)*q})}return d};function zd(a,b,c,d){0<c?(this.x=a,this.width=c):(this.x=a+c,this.width=-c);0<d?(this.y=b,this.height=d):(this.y=b+d,this.height=-d)};function Ad(a,b,c,d){this.type=a;this.geometry=b;c&&(this.units=c);this.style=d?d:{}}function Bd(a){return"rect"==a.type?a.geometry.width*a.geometry.height:"polygon"==a.type?Math.abs(xd(a.geometry.points)):0}function Cd(a){if("rect"==a.type)return a;if("polygon"==a.type){for(var b=a.geometry.points,c=b[0].x,d=b[0].x,f=b[0].y,e=b[0].y,h=1;h<b.length;h++)b[h].x>d&&(d=b[h].x),b[h].x<c&&(c=b[h].x),b[h].y>e&&(e=b[h].y),b[h].y<f&&(f=b[h].y);return new Ad("rect",new zd(c,f,d-c,e-f),n,a.style)}}
function Dd(a,b){var c;c=a.geometry.points;var d=0>xd(c)?-1:1;if(4>c.length)c=yd(c,d*b);else{for(var f=c.length-1,e=1,h=[],k=0;k<c.length;k++)f=yd([c[f],c[k],c[e]],d*b),h.push(f[1]),f=k,e++,e>c.length-1&&(e=0);c=h}return new Ad("polygon",new wd(c),n,a.style)}function Ed(a){return JSON.stringify(a.geometry)};function Fd(a,b,c){this.src=a;this.text=b;this.shapes=[c];this.context=document.URL};function Gd(){}function Hd(a,b){a.f=new sd;a.Tc=[];a.ab=[];a.Ga=[];a.Ea=[];a.$b=[];a.tb={Qa:n,Pa:n};a.Fa=new sd;a.bc=i;a.ad=b}function Id(a,b){var c=a.Fa.get(b);c||(c={Qa:n,Pa:n},a.Fa.set(b,c));return c}
function Jd(a,b){var c=a.Fb(b);if(!a.f.get(c)){var d=a.yc(b),f=[],e=[];C(a.Tc,function(a){d.addHandler(a.type,a.Oa)});C(a.ab,function(a){if(a.onInitAnnotator)a.onInitAnnotator(d)});C(a.Ea,function(a){a.src==c&&(d.H(a),f.push(a))});C(a.$b,function(a){a.src==c&&(d.T(a),e.push(a))});C(f,function(b){D(a.Ea,b)});C(e,function(b){D(a.$b,b)});var h=a.Fa.get(c);h?(h.Qa&&d.M(),h.Pa&&d.da(),a.Fa.remove(c)):(a.tb.Qa&&d.M(),a.tb.Pa&&d.da());a.bc&&d.fa(a.bc);a.f.set(c,d);D(a.Ga,b)}}
function Kd(a){var b,c;for(c=a.Ga.length;0<c;c--){for(var d=b=a.Ga[c-1],f=d.offsetTop,e=d.offsetLeft,h=d.offsetWidth,k=d.offsetHeight;d.offsetParent;)d=d.offsetParent,f+=d.offsetTop,e+=d.offsetLeft;f<window.pageYOffset+window.innerHeight&&(e<window.pageXOffset+window.innerWidth&&f+k>window.pageYOffset&&e+h>window.pageXOffset)&&Jd(a,b)}}function Ld(a,b,c){if(b){var d=a.f.get(b);d?c?d.Ca():d.da():Id(a,b).Pa=c}else C(W(a.f),function(a){c?a.Ca():a.da()}),a.tb.Pa=!c,C(W(a.Fa),function(a){a.Pa=!c})}
function Md(a,b,c){if(b){var d=a.f.get(b);d?c?d.Y():d.M():Id(a,b).Qa=c}else C(W(a.f),function(a){c?a.Y():a.M()}),a.tb.Qa=!c,C(W(a.Fa),function(a){a.Qa=!c})}s=Gd.prototype;s.aa=function(a,b){var c=i,d=i;u(a)?(c=a,d=b):v(a)&&(d=a);c?(c=this.f.get(c))&&c.aa(d):C(W(this.f),function(a){a.aa(d)})};s.H=function(a,b){if(Nd(this,a.src)){var c=this.f.get(a.src);c?c.H(a,b):(this.Ea.push(a),b&&D(this.Ea,b))}};s.addHandler=function(a,b){C(W(this.f),function(c){c.addHandler(a,b)});this.Tc.push({type:a,Oa:b})};
s.yb=function(a){this.ab.push(a);C(W(this.f),function(b){if(a.onInitAnnotator)a.onInitAnnotator(b)})};function Nd(a,b){return ud(a.f.X,b)?j:Da(a.Ga,function(c){return a.Fb(c)==b})!=m}s.destroy=function(a){a?(a=this.f.get(a))&&a.destroy():(C(W(this.f),function(a){a.destroy()}),this.f.clear())};s.ja=function(a){if(Nd(this,a)&&(a=this.f.get(a)))return a.ja().getName()};
s.v=function(a){if(a){var b=this.f.get(a);return b?b.v():Aa(this.Ea,function(b){return b.src==a})}var c=[];C(W(this.f),function(a){Ga(c,a.v())});Ga(c,this.Ea);return c};s.ka=function(a){if(Nd(this,a)&&(a=this.f.get(a)))return Ba(a.ka(),function(a){return a.getName()})};s.da=function(a){Ld(this,a,n)};s.M=function(a){Md(this,a,n)};s.B=function(a){if(a){if(Nd(this,a.src)){var b=this.f.get(a.src);b&&b.B(a)}}else C(W(this.f),function(a){a.B()})};
s.init=function(){this.ad&&Ga(this.Ga,this.ad());Kd(this);var a=this,b=O(window,"scroll",function(){0<a.Ga.length?Kd(a):P(b)})};s.wc=function(a){this.Wb(a)&&Jd(this,a)};s.T=function(a){if(Nd(this,a.src)){var b=this.f.get(a.src);b?b.T(a):this.$b.push(a)}};s.rb=function(a,b){if(Nd(this,a)){var c=this.f.get(a);c&&c.Id(b)}};s.fa=function(a){this.bc=a;C(W(this.f),function(b){b.fa(a)})};s.Ca=function(a){Ld(this,a,j)};s.Y=function(a){Md(this,a,j)};function Od(a,b){var c=rb().createElement("DIV");c.innerHTML=a(b||Pd,i,i);if(1==c.childNodes.length){var d=c.firstChild;if(1==d.nodeType)return d}return c}var Pd={};function Qd(a,b){a!=m&&this.append.apply(this,arguments)}s=Qd.prototype;s.wa="";s.set=function(a){this.wa=""+a};s.append=function(a,b,c){this.wa+=a;if(b!=m)for(var d=1;d<arguments.length;d++)this.wa+=arguments[d];return this};s.clear=function(){this.wa=""};s.toString=r("wa");/*
 Portions of this code are from the google-caja project, received by
 Google under the Apache license (http://code.google.com/p/google-caja/).
 All other code is Copyright 2009 Google, Inc. All Rights Reserved.

// Copyright (C) 2006 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

*/
function Rd(){}
var Sd={ve:"<",ue:">",ne:"&",we:"\u00a0",ye:'"',oe:"'"},Td={a:0,abbr:0,acronym:0,address:0,applet:16,area:2,b:0,base:18,basefont:18,bdo:0,big:0,blockquote:0,body:49,br:2,button:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,dd:1,del:0,dfn:0,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,font:0,form:0,frame:18,frameset:16,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:49,hr:2,html:49,i:0,iframe:20,img:2,input:2,ins:0,isindex:18,kbd:0,label:0,legend:0,li:1,link:18,map:0,menu:0,meta:18,noframes:20,noscript:20,object:16,
ol:0,optgroup:0,option:1,p:1,param:18,pre:0,q:0,s:0,samp:0,script:20,select:0,small:0,span:0,strike:0,strong:0,style:20,sub:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,title:24,tr:1,tt:0,u:0,ul:0,"var":0},Ud=/&/g,Vd=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,Wd=/</g,Xd=/>/g,Yd=/\"/g,Zd=/=/g,$d=/\0/g,ae=/&(#\d+|#x[0-9A-Fa-f]+|\w+);/g,be=/^#(\d+)$/,ce=/^#x([0-9A-Fa-f]+)$/,de=RegExp("^\\s*(?:(?:([a-z][a-z-]*)(\\s*=\\s*(\"[^\"]*\"|'[^']*'|(?=[a-z][a-z-]*\\s*=)|[^>\"'\\s]*))?)|(/?>)|[^a-z\\s>]+)",
"i"),ee=RegExp("^(?:&(\\#[0-9]+|\\#[x][0-9a-f]+|\\w+);|<[!]--[\\s\\S]*?--\>|<!\\w[^>]*>|<\\?[^>*]*>|<(/)?([a-z][a-z0-9]*)|([^<&>]+)|([<&>]))","i");
Rd.prototype.parse=function(a,b){var c=m,d=n,f=[],e,h,k;a.P=[];for(a.ma=n;b;){var l=b.match(d?de:ee),b=b.substring(l[0].length);if(d)if(l[1]){var q=l[1].toLowerCase();if(l[2]){l=l[3];switch(l.charCodeAt(0)){case 34:case 39:l=l.substring(1,l.length-1)}l=l.replace($d,"").replace(ae,oa(this.ae,this))}else l=q;f.push(q,l)}else l[4]&&(h!==i&&(k?a.Jd&&a.Jd(e,f):a.md&&a.md(e)),k&&h&12&&(c=c===m?b.toLowerCase():c.substring(c.length-b.length),d=c.indexOf("</"+e),0>d&&(d=b.length),h&4?a.fd&&a.fd(b.substring(0,
d)):a.Hd&&a.Hd(b.substring(0,d).replace(Vd,"&amp;$1").replace(Wd,"&lt;").replace(Xd,"&gt;")),b=b.substring(d)),e=h=k=i,f.length=0,d=n);else if(l[1])fe(a,l[0]);else if(l[3])k=!l[2],d=j,e=l[3].toLowerCase(),h=Td.hasOwnProperty(e)?Td[e]:i;else if(l[4])fe(a,l[4]);else if(l[5])switch(l[5]){case "<":fe(a,"&lt;");break;case ">":fe(a,"&gt;");break;default:fe(a,"&amp;")}}for(c=a.P.length;0<=--c;)a.ga.append("</",a.P[c],">");a.P.length=0};
Rd.prototype.ae=function(a){a=a.toLowerCase();if(Sd.hasOwnProperty(a))return Sd[a];var b=a.match(be);return b?String.fromCharCode(parseInt(b[1],10)):(b=a.match(ce))?String.fromCharCode(parseInt(b[1],16)):""};function ge(){};/*
 Portions of this code are from the google-caja project, received by
 Google under the Apache license (http://code.google.com/p/google-caja/).
 All other code is Copyright 2009 Google, Inc. All Rights Reserved.

// Copyright (C) 2006 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

*/
function he(a,b,c){this.ga=a;this.P=[];this.ma=n;this.Nd=b;this.Ob=c}z(he,ge);
var ie={"*::class":9,"*::dir":0,"*::id":4,"*::lang":0,"*::onclick":2,"*::ondblclick":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::style":3,"*::title":0,"*::accesskey":0,"*::tabindex":0,"*::onfocus":2,"*::onblur":2,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::rel":0,"a::rev":0,"a::shape":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,
"area::href":1,"area::nohref":0,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,
"colgroup::width":0,"del::cite":1,"del::datetime":0,"dir::compact":0,"div::align":0,"dl::compact":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,
"img::hspace":0,"img::ismap":0,"img::longdesc":1,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::autocomplete":0,"input::align":0,"input::alt":0,"input::checked":0,"input::disabled":0,"input::ismap":0,"input::maxlength":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::readonly":0,"input::size":0,"input::src":1,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,
"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"ol::compact":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"p::align":0,"pre::width":0,"q::cite":1,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,
"select::onfocus":2,"select::size":0,"select::tabindex":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,
"textarea::accesskey":0,"textarea::cols":0,"textarea::disabled":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::readonly":0,"textarea::rows":0,"textarea::tabindex":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,
"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"ul::compact":0,"ul::type":0};
he.prototype.Jd=function(a,b){if(!this.ma&&Td.hasOwnProperty(a)){var c=Td[a];if(!(c&32))if(c&16)this.ma=!(c&2);else{for(var d=b,f=0;f<d.length;f+=2){var e=d[f],h=d[f+1],k=m,l;if((l=a+"::"+e,ie.hasOwnProperty(l))||(l="*::"+e,ie.hasOwnProperty(l)))k=ie[l];if(k!==m)switch(k){case 0:break;case 2:case 3:h=m;break;case 4:case 5:case 6:case 7:case 8:case 9:h=this.Ob?this.Ob(h):h;break;case 1:h=this.Nd&&this.Nd(h);break;case 11:h&&"#"===h.charAt(0)?(h=this.Ob?this.Ob(h):h)&&(h="#"+h):h=m;break;default:h=
m}else h=m;d[f+1]=h}if(b=d){c&2||this.P.push(a);this.ga.append("<",a);c=0;for(d=b.length;c<d;c+=2)f=b[c],e=b[c+1],e!==m&&e!==i&&this.ga.append(" ",f,'="',e.replace(Ud,"&amp;").replace(Wd,"&lt;").replace(Xd,"&gt;").replace(Yd,"&#34;").replace(Zd,"&#61;"),'"');this.ga.append(">")}}}};
he.prototype.md=function(a){if(this.ma)this.ma=n;else if(Td.hasOwnProperty(a)){var b=Td[a];if(!(b&50)){if(b&1)for(b=this.P.length;0<=--b;){var c=this.P[b];if(c===a)break;if(!(Td[c]&1))return}else for(b=this.P.length;0<=--b&&this.P[b]!==a;);if(!(0>b)){for(var d=this.P.length;--d>b;)c=this.P[d],Td[c]&1||this.ga.append("</",c,">");this.P.length=b;this.ga.append("</",a,">")}}}};function fe(a,b){a.ma||a.ga.append(b)}he.prototype.Hd=function(a){this.ma||this.ga.append(a)};
he.prototype.fd=function(a){this.ma||this.ga.append(a)};function je(a,b,c,d,f){if(!E&&(!H||!I("525")))return j;if(Na&&f)return ke(a);if(f&&!d||!c&&(17==b||18==b)||E&&d&&b==a)return n;switch(a){case 13:return!(E&&db(9));case 27:return!H}return ke(a)}function ke(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||H&&0==a)return j;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;default:return n}}
function le(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};function me(a,b){nc.call(this);a&&ne(this,a,b)}z(me,Jc);s=me.prototype;s.A=m;s.Ib=m;s.tc=m;s.Jb=m;s.oa=-1;s.na=-1;s.mc=n;
var oe={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},pe={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},qe=E||H&&I("525"),re=Na&&F;s=me.prototype;
s.Vd=function(a){if(H&&(17==this.oa&&!a.ctrlKey||18==this.oa&&!a.altKey))this.na=this.oa=-1;qe&&!je(a.keyCode,this.oa,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.na=F?le(a.keyCode):a.keyCode,re&&(this.mc=a.altKey))};s.Xd=function(a){this.na=this.oa=-1;this.mc=a.altKey};
s.handleEvent=function(a){var b=a.n,c,d,f=b.altKey;E&&"keypress"==a.type?(c=this.na,d=13!=c&&27!=c?b.keyCode:0):H&&"keypress"==a.type?(c=this.na,d=0<=b.charCode&&63232>b.charCode&&ke(c)?b.charCode:0):Sa?(c=this.na,d=ke(c)?b.keyCode:0):(c=b.keyCode||this.na,d=b.charCode||0,re&&(f=this.mc),Na&&(63==d&&224==c)&&(c=191));var e=c,h=b.keyIdentifier;c?63232<=c&&c in oe?e=oe[c]:25==c&&a.shiftKey&&(e=9):h&&h in pe&&(e=pe[h]);a=e==this.oa;this.oa=e;b=new se(e,d,a,b);b.altKey=f;this.dispatchEvent(b)};s.d=r("A");
function ne(a,b,c){a.Jb&&a.detach();a.A=b;a.Ib=O(a.A,"keypress",a,c);a.tc=O(a.A,"keydown",a.Vd,c,a);a.Jb=O(a.A,"keyup",a.Xd,c,a)}s.detach=function(){this.Ib&&(P(this.Ib),P(this.tc),P(this.Jb),this.Jb=this.tc=this.Ib=m);this.A=m;this.na=this.oa=-1};function se(a,b,c,d){d&&this.init(d,i);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}z(se,sc);function te(){}ea(te);te.prototype.ee=0;te.ob();function ue(a){nc.call(this);this.jb=a||rb();this.pa=ve}z(ue,Jc);ue.prototype.Zd=te.ob();var ve=m;function we(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}g(Error("Invalid component state"))}s=ue.prototype;s.Hb=m;s.ea=n;s.A=m;s.pa=m;s.ya=m;s.gb=m;s.Ia=m;s.me=n;s.d=r("A");
s.Eb=function(){return this.rc||(this.rc=new Gc(this))};s.Fc=function(a){this.ya&&this.ya!=a&&g(Error("Method not supported"));ue.I.Fc.call(this,a)};s.od=r("jb");s.ib=function(a){this.ea&&g(Error("Component already rendered"));if(a&&this.fb(a)){this.me=j;if(!this.jb||this.jb.L!=K(a))this.jb=rb(a);this.hd(a);this.La()}else g(Error("Invalid element to decorate"))};s.fb=aa(j);s.hd=function(a){this.A=a};s.La=function(){function a(a){!a.ea&&a.d()&&a.La()}this.ea=j;this.gb&&C(this.gb,a,i)};
s.Cb=function(){function a(a){a.ea&&a.Cb()}this.gb&&C(this.gb,a,i);this.rc&&this.rc.Sb();this.ea=n};s.mb=r("A");s.Ua=function(a){this.ea&&g(Error("Component already rendered"));this.pa=a};
s.removeChild=function(a,b){if(a){var c=u(a)?a:a.Hb||(a.Hb=":"+(a.Zd.ee++).toString(36)),d;this.Ia&&c?(d=this.Ia,d=(c in d?d[c]:i)||m):d=m;a=d;c&&a&&(d=this.Ia,c in d&&delete d[c],D(this.gb,a),b&&(a.Cb(),a.A&&zb(a.A)),c=a,c==m&&g(Error("Unable to set parent component")),c.ya=m,ue.I.Fc.call(c,m))}a||g(Error("Child is not in parent component"));return a};function xe(){}var ye;ea(xe);s=xe.prototype;s.mb=function(a){return a};s.kb=function(a,b,c){if(a=a.d?a.d():a)if(E&&!I("7")){var d=ze(hb(a),b);d.push(b);pa(c?ib:kb,a).apply(m,d)}else c?ib(a,b):kb(a,b)};s.fb=aa(j);
s.ib=function(a,b){if(b.id){var c=b.id;if(a.ya&&a.ya.Ia){var d=a.ya.Ia,f=a.Hb;f in d&&delete d[f];d=a.ya.Ia;c in d&&g(Error('The object already contains the key "'+c+'"'));d[c]=a}a.Hb=c}(c=this.mb(b))&&c.firstChild?(c=c.firstChild.nextSibling?Fa(c.childNodes):c.firstChild,a.hb=c):a.hb=m;var e=0,h=this.nb(),k=this.nb(),l=n,q=n,c=n,d=hb(b);C(d,function(a){if(!l&&a==h)l=j,k==h&&(q=j);else if(!q&&a==k)q=j;else{var b=e;if(!this.Md){this.Ab||Ae(this);var c=this.Ab,d={},f;for(f in c)d[c[f]]=f;this.Md=d}a=
parseInt(this.Md[a],10);e=b|(isNaN(a)?0:a)}},this);a.o=e;l||(d.push(h),k==h&&(q=j));q||d.push(k);(f=a.ca)&&d.push.apply(d,f);if(E&&!I("7")){var w=ze(d);0<w.length&&(d.push.apply(d,w),c=j)}if(!l||!q||f||c)b.className=d.join(" ");a.isEnabled()||this.Va(b,1,j);a.o&8&&this.Va(b,8,j);a.U&16&&this.Va(b,16,!!(a.o&16));a.U&64&&this.Va(b,64,!!(a.o&64));return b};
s.Vb=function(a,b){var c=!b,d=E||Sa?a.getElementsByTagName("*"):m;if(bd){if(c=c?"none":"",a.style[bd]=c,d)for(var f=0,e;e=d[f];f++)e.style[bd]=c}else if(E||Sa)if(c=c?"on":"",a.setAttribute("unselectable",c),d)for(f=0;e=d[f];f++)e.setAttribute("unselectable",c)};s.Ua=function(a,b){this.kb(a,this.nb()+"-rtl",b)};s.Bd=function(a){var b;return a.U&32&&(b=a.Ma())?Cb(b):n};
s.Ec=function(a,b){var c;if(a.U&32&&(c=a.Ma())){if(!b&&a.o&32){try{c.blur()}catch(d){}a.o&32&&a.pd()}Cb(c)!=b&&(b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex")))}};s.O=function(a,b,c){var d=a.d();if(d){var f;this.Ab||Ae(this);(f=this.Ab[b])&&this.kb(a,f,c);this.Va(d,b,c)}};s.Va=function(a,b,c){ye||(ye={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=ye[b])&&a.setAttribute("aria-"+b,c)};
s.qa=function(a,b){var c=this.mb(a);if(c&&(yb(c),b))if(u(b))if("textContent"in c)c.textContent=b;else if(c.firstChild&&3==c.firstChild.nodeType){for(;c.lastChild!=c.firstChild;)c.removeChild(c.lastChild);c.firstChild.data=b}else yb(c),c.appendChild(K(c).createTextNode(b));else{var d=function(a){if(a){var b=K(c);c.appendChild(u(a)?b.createTextNode(a):a)}};ga(b)?C(b,d):ha(b)&&!("nodeType"in b)?C(Fa(b),d):d(b)}};s.Ma=function(a){return a.d()};s.nb=aa("goog-control");
function ze(a,b){var c=[];b&&(a=a.concat([b]));C([],function(d){Ca(d,pa(Ea,a))&&(!b||Ea(d,b))&&c.push(d.join("_"))});return c}function Ae(a){var b=a.nb();a.Ab={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};var Be={};function Ce(a,b,c){ue.call(this,c);if(!b){for(var b=this.constructor,d;b;){d=ja(b);if(d=Be[d])break;b=b.I?b.I.constructor:m}b=d?v(d.ob)?d.ob():new d:m}this.C=b;this.hb=a}z(Ce,ue);s=Ce.prototype;s.hb=m;s.o=0;s.U=39;s.oc=255;s.le=0;s.Yb=j;s.ca=m;s.sc=j;s.lc=n;s.he=m;function De(a){a.ea&&n!=a.sc&&Ee(a,n);a.sc=n}s.Ma=function(){return this.C.Ma(this)};
s.kb=function(a,b){b?a&&(this.ca?Ea(this.ca,a)||this.ca.push(a):this.ca=[a],this.C.kb(this,a,j)):a&&this.ca&&(D(this.ca,a),0==this.ca.length&&(this.ca=m),this.C.kb(this,a,n))};s.mb=function(){return this.C.mb(this.d())};s.fb=function(a){return this.C.fb(a)};s.hd=function(a){this.A=a=this.C.ib(this,a);var b=this.he||i;b&&a.setAttribute("role",b);this.lc||this.C.Vb(a,n);this.Yb="none"!=a.style.display};
s.La=function(){Ce.I.La.call(this);var a=this.C;this.pa==m&&(this.pa=ad(this.ea?this.A:this.jb.L.body));this.pa&&a.Ua(this.d(),j);this.isEnabled()&&a.Ec(this,this.Yb);if(this.U&-2&&(this.sc&&Ee(this,j),this.U&32&&(a=this.Ma()))){var b=this.uc||(this.uc=new me);ne(b,a);Q(Q(Q(this.Eb(),b,"key",this.Wd),a,"focus",this.Ud),a,"blur",this.pd)}};
function Ee(a,b){var c=a.Eb(),d=a.d();b?(Q(Q(Q(Q(c,d,"mouseover",a.ud),d,"mousedown",a.rd),d,"mouseup",a.vd),d,"mouseout",a.sd),a.Gb!=da&&Q(c,d,"contextmenu",a.Gb),E&&Q(c,d,"dblclick",a.qd)):(Ic(Ic(Ic(Ic(c,d,"mouseover",a.ud),d,"mousedown",a.rd),d,"mouseup",a.vd),d,"mouseout",a.sd),a.Gb!=da&&Ic(c,d,"contextmenu",a.Gb),E&&Ic(c,d,"dblclick",a.qd))}s.Cb=function(){Ce.I.Cb.call(this);this.uc&&this.uc.detach();this.Yb&&this.isEnabled()&&this.C.Ec(this,n)};
s.qa=function(a){this.C.qa(this.d(),a);this.hb=a};s.Ua=function(a){Ce.I.Ua.call(this,a);var b=this.d();b&&this.C.Ua(b,a)};s.Vb=function(a){this.lc=a;var b=this.d();b&&this.C.Vb(b,a)};s.isEnabled=function(){return!(this.o&1)};function Fe(a,b){Ge(a,2,b)&&a.O(2,b)}s.setActive=function(a){Ge(this,4,a)&&this.O(4,a)};s.O=function(a,b){this.U&a&&b!=!!(this.o&a)&&(this.C.O(this,a,b),this.o=b?this.o|a:this.o&~a)};function X(a,b){return!!(a.oc&b)&&!!(a.U&b)}
function Ge(a,b,c){return!!(a.U&b)&&!!(a.o&b)!=c&&(!(a.le&b)||a.dispatchEvent(we(b,c)))&&!a.kd}s.ud=function(a){(!a.relatedTarget||!Bb(this.d(),a.relatedTarget))&&(this.dispatchEvent("enter")&&this.isEnabled()&&X(this,2))&&Fe(this,j)};s.sd=function(a){if((!a.relatedTarget||!Bb(this.d(),a.relatedTarget))&&this.dispatchEvent("leave"))X(this,4)&&this.setActive(n),X(this,2)&&Fe(this,n)};s.Gb=da;
s.rd=function(a){this.isEnabled()&&(X(this,2)&&Fe(this,j),uc(a)&&(X(this,4)&&this.setActive(j),this.C.Bd(this)&&this.Ma().focus()));!this.lc&&uc(a)&&a.preventDefault()};s.vd=function(a){this.isEnabled()&&(X(this,2)&&Fe(this,j),this.o&4&&(He(this,a)&&X(this,4))&&this.setActive(n))};s.qd=function(a){this.isEnabled()&&He(this,a)};
function He(a,b){if(X(a,16)){var c=!(a.o&16);Ge(a,16,c)&&a.O(16,c)}X(a,8)&&Ge(a,8,j)&&a.O(8,j);X(a,64)&&(c=!(a.o&64),Ge(a,64,c)&&a.O(64,c));c=new pc("action",a);b&&(c.altKey=b.altKey,c.ctrlKey=b.ctrlKey,c.metaKey=b.metaKey,c.shiftKey=b.shiftKey,c.Bc=b.Bc);return a.dispatchEvent(c)}s.Ud=function(){X(this,32)&&Ge(this,32,j)&&this.O(32,j)};s.pd=function(){X(this,4)&&this.setActive(n);X(this,32)&&Ge(this,32,n)&&this.O(32,n)};
s.Wd=function(a){return this.Yb&&this.isEnabled()&&13==a.keyCode&&He(this,a)?(a.preventDefault(),a.stopPropagation(),j):n};v(Ce)||g(Error("Invalid component class "+Ce));v(xe)||g(Error("Invalid renderer class "+xe));var Ie=ja(Ce);Be[Ie]=xe;function Je(){return new Ce(m)}v(Je)||g(Error("Invalid decorator function "+Je));function Le(){}z(Le,xe);ea(Le);s=Le.prototype;s.ib=function(a,b){De(a);a.oc&=-256;a.ea&&a.o&32&&g(Error("Component already rendered"));a.o&32&&a.O(32,n);a.U&=-33;Le.I.ib.call(this,a,b);a.qa(b.value);return b};s.fb=function(a){return"TEXTAREA"==a.tagName};s.Ua=da;s.Bd=function(a){return a.isEnabled()};s.Ec=da;s.O=function(a,b,c){Le.I.O.call(this,a,b,c);if((a=a.d())&&1==b)a.disabled=c};s.Va=da;s.qa=function(a,b){a&&(a.value=b)};s.nb=aa("goog-textarea");function Me(a,b,c){Ce.call(this,a,b||Le.ob(),c);De(this);this.Vb(j);a||(this.hb="")}z(Me,Ce);var Ne=F||H;s=Me.prototype;s.Ra=n;s.la=0;s.be=0;s.Ed=0;s.xd=n;s.Nb=n;s.Dc=n;s.Cc=n;function Oe(a){return a.qb.top+a.qb.bottom+a.cd.top+a.cd.bottom}function Pe(a){var b=a.Ed,c=a.d();b&&(c&&a.Nb)&&(b-=Oe(a));return b}function Qe(a){var b=a.be,c=a.d();b&&(c&&a.Nb)&&(b-=Oe(a));return b}s.qa=function(a){Me.I.qa.call(this,a);this.d()&&this.Na()};
s.La=function(){Me.I.La.call(this);var a=this.d();R(a,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});this.qb=dd(a,"padding");this.cd=gd(a);Q(Q(Q(Q(this.Eb(),a,"scroll",this.Na),a,"focus",this.Na),a,"keyup",this.Na),a,"mouseup",this.de);this.d()&&this.Na()};
function Re(a){if(!a.xd){var b=a.d().cloneNode(n);R(b,{position:"absolute",height:"auto",top:"-9999px",margin:"0",padding:"1px",border:"1px solid #000",overflow:"hidden"});a.od().L.body.appendChild(b);var c=b.scrollHeight;b.style.padding="10px";var d=b.scrollHeight;a.Dc=d>c;b.style.borderWidth="10px";a.Cc=b.scrollHeight>d;b.style.height="100px";100!=b.offsetHeight&&(a.Nb=j);zb(b);a.xd=j}var b=a.d(),c=a.d().scrollHeight,f=a.d(),d=f.offsetHeight-f.clientHeight;if(!a.Dc)var e=a.qb,d=d-(e.top+e.bottom);
a.Cc||(f=gd(f),d-=f.top+f.bottom);c+=0<d?d:0;a.Nb?c-=Oe(a):(a.Dc||(d=a.qb,c+=d.top+d.bottom),a.Cc||(a=gd(b),c+=a.top+a.bottom));return c}function Se(a,b){a.la!=b&&(a.la=b,a.d().style.height=b+"px")}function Te(a){a=a.d();a.style.height="auto";var b=a.value.match(/\n/g)||[];a.rows=b.length+1}
s.Na=function(){if(!this.Ra){var a=n;this.Ra=j;var b=this.d(),c=this.la;if(b.scrollHeight){var d=n,f=n,e=Re(this),h=b.offsetHeight,k=Pe(this),l=Qe(this);k&&e<k?(Se(this,k),d=j):l&&e>l?(Se(this,l),b.style.overflowY="",f=j):h!=e?Se(this,e):this.la||(this.la=e);!d&&(!f&&Ne)&&(a=j)}else Te(this);this.Ra=n;a&&(a=this.d(),this.Ra||(this.Ra=j,b=n,a.value||(a.value=" ",b=j),(f=a.scrollHeight)?(e=Re(this),d=Pe(this),h=Qe(this),!(d&&e<=d)&&!(h&&e>=h)&&(h=this.qb,a.style.paddingBottom=h.bottom+1+"px",Re(this)==
e&&(a.style.paddingBottom=h.bottom+f+"px",a.scrollTop=0,f=Re(this)-f,f>=d?Se(this,f):Se(this,d)),a.style.paddingBottom=h.bottom+"px")):Te(this),b&&(a.value=""),this.Ra=n));c!=this.la&&this.dispatchEvent("resize")}};s.de=function(){var a=this.d(),b=a.offsetHeight;a.filters&&a.filters.length&&(a=a.filters.item("DXImageTransform.Microsoft.DropShadow"))&&(b-=a.offX);b!=this.la&&(this.la=this.Ed=b)};E&&I(8);function Ue(a){return"object"===typeof a&&a&&0===a.qe?a.content:String(a).replace(Ve,We)}var Xe={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function We(a){return Xe[a]}var Ve=/[\x00\x22\x26\x27\x3c\x3e]/g;function Ye(){return'<div class="annotorious-popup top-left" style="position:absolute;z-index:1"><div class="annotorious-popup-buttons"><a class="annotorious-popup-button annotorious-popup-button-edit" title="Selectionner" href="javascript:void(0);">EDIT</a><a class="annotorious-popup-button annotorious-popup-button-delete" title="Deselectionner" href="javascript:void(0);">DELETE</a></div><span class="annotorious-popup-text"></span></div>'}
function Ze(){return'<div class="annotorious-editor" style="position:absolute;z-index:1"><form><textarea class="annotorious-editor-text" placeholder="Add a Comment..." tabindex="1"></textarea><div class="annotorious-editor-button-container"><a class="annotorious-editor-button annotorious-editor-button-cancel" href="javascript:void(0);" tabindex="3">Cancel</a><a class="annotorious-editor-button annotorious-editor-button-save" href="javascript:void(0);" tabindex="2">Save</a></div></form></div>'};function $e(a){function b(){var a=d.Ha;a.d()&&a.Na()}this.element=Od(Ze);this.e=a;this.Qd=a.getItem();this.Ha=new Me("");this.Od=M(".annotorious-editor-button-cancel",this.element)[0];this.Sc=M(".annotorious-editor-button-save",this.element)[0];var c;c=this.Sc;gb?c=c.parentElement:(c=c.parentNode,c=Ab(c)?c:m);this.Pd=c;this.Xa=[];var d=this;O(this.Od,"click",function(b){b.preventDefault();a.stopSelection(d.Zc);d.close()});O(this.Sc,"click",function(b){b.preventDefault();b=d.nd();a.H(b);a.stopSelection();
d.Zc?a.fireEvent("onAnnotationUpdated",b,a.getItem()):a.fireEvent("onAnnotationCreated",b,a.getItem());d.close()});V(this.element,n);a.element.appendChild(this.element);this.Ha.ib(M(".annotorious-editor-text",this.element)[0]);var f=this.element;c=document.createElement("div");R(c,"position","absolute");R(c,"top","0px");R(c,"right","0px");R(c,"width","5px");R(c,"height","100%");R(c,"cursor","e-resize");f.appendChild(c);var e=gd(f),e=$c(f).width-e.right-e.left;c=new hd(c);c.vc=new Lc(e,0,800,0)||new Lc(NaN,
NaN,NaN,NaN);c.jd=function(a){R(f,"width",a+"px");b&&b()}}s=$e.prototype;s.kc=function(a){var b=wb("div","annotorious-editor-field");u(a)?b.innerHTML=a:v(a)?this.Xa.push({z:b,pc:a}):Ab(a)&&b.appendChild(a);a=this.Pd;a.parentNode&&a.parentNode.insertBefore(b,a)};s.open=function(a){(this.ub=this.Zc=a)&&this.Ha.qa(String(a.text));V(this.element,j);this.Ha.d().focus();C(this.Xa,function(b){var c=b.pc(a);u(c)?b.z.innerHTML=c:Ab(c)&&(yb(b.z),b.z.appendChild(c))});this.e.fireEvent("onEditorShown",a)};
s.close=function(){V(this.element,n);this.Ha.qa("")};s.setPosition=function(a){Pc(this.element,a.x,a.y)};s.nd=function(){var a;a=this.Ha.d().value;var b=new Qd;(new Rd).parse(new he(b,function(a){return a},i),a);a=b.toString();this.ub?this.ub.text=a:this.ub=new Fd(this.Qd.src,a,this.e.ja().getShape());return this.ub};$e.prototype.addField=$e.prototype.kc;$e.prototype.getAnnotation=$e.prototype.nd;function af(a,b,c){var d=this;c||(c="Click and Drag to Annotate");this.element=Od(bf,{Mb:c});this.e=a;this.Wc=M(".annotorious-hint-msg",this.element)[0];this.Uc=M(".annotorious-hint-icon",this.element)[0];this.ic=function(){d.show()};this.hc=function(){cf(d)};this.Zb();cf(this);b.appendChild(this.element)}
af.prototype.Zb=function(){var a=this;this.Yc=O(this.Uc,"mouseover",function(){a.show();window.clearTimeout(a.ec)});this.Xc=O(this.Uc,"mouseout",function(){cf(a)});this.e.addHandler("onMouseOverItem",this.ic);this.e.addHandler("onMouseOutOfItem",this.hc)};af.prototype.vb=function(){P(this.Yc);P(this.Xc);this.e.Tb("onMouseOverItem",this.ic);this.e.Tb("onMouseOutOfItem",this.hc)};
af.prototype.show=function(){window.clearTimeout(this.ec);U(this.Wc,0.8);var a=this;this.ec=window.setTimeout(function(){cf(a)},3E3)};function cf(a){window.clearTimeout(a.ec);U(a.Wc,0)}af.prototype.destroy=function(){this.vb();delete this.Yc;delete this.Xc;delete this.ic;delete this.hc;zb(this.element)};function df(a){this.element=Od(Ye);this.e=a;this.Rd=M(".annotorious-popup-text",this.element)[0];this.V=M(".annotorious-popup-buttons",this.element)[0];this.cc=n;this.Xa=[];var b=M(".annotorious-popup-button-edit",this.V)[0],c=M(".annotorious-popup-button-delete",this.V)[0],d=this;O(b,"mouseover",function(){ib(b,"annotorious-popup-button-active")});O(b,"mouseout",function(){kb(b,"annotorious-popup-button-active")});O(b,"click",function(){U(d.element,0);R(d.element,"pointer-events","none");a.fireEvent("onAnnotationDeselected",
d.g)});O(c,"mouseover",function(){ib(c,"annotorious-popup-button-active")});O(c,"mouseout",function(){kb(c,"annotorious-popup-button-active")});O(c,"click",function(){U(d.element,0);R(d.element,"pointer-events","none");a.fireEvent("onAnnotationSelected",d.g)});ef&&(O(this.element,"mouseover",function(){window.clearTimeout(d.ac);0.9>(d.V.style[ya("opacity")]||"")&&U(d.V,0.9);d.clearHideTimer()}),O(this.element,"mouseout",function(){U(d.V,0);d.startHideTimer()}),a.addHandler("onMouseOutOfItem",function(){d.startHideTimer()}));
U(this.V,0);U(this.element,0);R(this.element,"pointer-events","none");a.element.appendChild(this.element)}s=df.prototype;s.kc=function(a){var b=wb("div","annotorious-popup-field");u(a)?b.innerHTML=a:v(a)?this.Xa.push({z:b,pc:a}):Ab(a)&&b.appendChild(a);this.element.appendChild(b)};s.startHideTimer=function(){this.cc=n;if(!this.bb){var a=this;this.bb=window.setTimeout(function(){a.e.fireEvent("beforePopupHide",a);a.cc||(U(a.element,0),R(a.element,"pointer-events","none"),U(a.V,0.9),delete a.bb)},150)}};
s.clearHideTimer=function(){this.cc=j;this.bb&&(window.clearTimeout(this.bb),delete this.bb)};s.show=function(a,b){this.clearHideTimer();b&&this.setPosition(b);a&&this.setAnnotation(a);this.ac&&window.clearTimeout(this.ac);U(this.V,0.9);if(ef){var c=this;this.ac=window.setTimeout(function(){U(c.V,0)},1E3)}U(this.element,0.9);R(this.element,"pointer-events","auto");this.e.fireEvent("onPopupShown",this.g)};s.setPosition=function(a){Pc(this.element,new J(a.x,a.y))};
s.setAnnotation=function(a){this.g=a;this.Rd.innerHTML=a.text?a.text.replace(/\n/g,"<br/>"):'<span class="annotorious-popup-empty">No comment</span>';V(this.V,j);C(this.Xa,function(b){var c=b.pc(a);u(c)?b.z.innerHTML=c:Ab(c)&&(yb(b.z),b.z.appendChild(c))})};df.prototype.addField=df.prototype.kc;function ff(){}s=ff.prototype;s.H=function(a,b){this.l.H(a,b)};s.addHandler=function(a,b){this.r.addHandler(a,b)};s.fireEvent=function(a,b,c){return this.r.fireEvent(a,b,c)};s.ja=r("F");s.B=function(a){this.l.B(a)};s.T=function(a){this.l.T(a)};s.Tb=function(a,b){this.r.Tb(a,b)};s.stopSelection=function(a){ef&&V(this.c,n);this.cb&&(this.cb(),delete this.cb);this.F.stopSelection();a&&this.l.H(a)};
function gf(a,b){O(b,hf,function(c){console.log("start selection event");console.log(c);c=jf(c,b);a.l.B(n);a.xb?(V(a.c,j),a.F.startSelection(c.x,c.y)):(c=a.l.lb(c.x,c.y),0<c.length&&a.l.B(c[0]))})};function kf(a,b){this.Z=a;this.e=b;this.Da=[];this.$=[];this.sa=this.Z.getContext("2d");this.ra=j;this.wb=n;var c=this;O(this.Z,lf,function(a){if(c.ra){var b=mf(c,a.offsetX,a.offsetY);b?(c.wb=c.wb&&b==c.g,c.g?c.g!=b&&(c.ra=n,c.e.popup.startHideTimer()):(c.g=b,nf(c),c.e.fireEvent("onMouseOverAnnotation",{K:c.g,mouseEvent:a}))):!c.wb&&c.g&&(c.ra=n,c.e.popup.startHideTimer())}else c.Wa=a});b.addHandler("onMouseOutOfItem",function(){delete c.g;c.ra=j});b.addHandler("beforePopupHide",function(){if(!c.ra&&
c.Wa){var a=c.g;c.g=mf(c,c.Wa.offsetX,c.Wa.offsetY);c.ra=j;a!=c.g?(nf(c),c.e.fireEvent("onMouseOutOfAnnotation",{K:a,mouseEvent:c.Wa}),c.e.fireEvent("onMouseOverAnnotation",{K:c.g,mouseEvent:c.Wa})):c.g&&c.e.popup.clearHideTimer()}else nf(c)})}s=kf.prototype;
s.H=function(a,b){b&&(b==this.g&&delete this.g,D(this.Da,b),delete this.$[Ed(b.shapes[0])]);this.Da.push(a);var c=a.shapes[0];if("pixel"!=c.units){var d=this;if("rect"==c.type)var f=d.e.Db(c.geometry),c=new Ad("rect",f,n,c.style);else if("polygon"==c.type){var e=[];C(c.geometry.points,function(a){e.push(d.e.Db(a))});c=new Ad("polygon",new wd(e),n,c.style)}else c=i}this.$[Ed(a.shapes[0])]=c;nf(this)};s.T=function(a){a==this.g&&delete this.g;D(this.Da,a);delete this.$[Ed(a.shapes[0])];nf(this)};
s.v=function(){return Fa(this.Da)};s.B=function(a){(this.g=a)?this.wb=j:this.e.popup.startHideTimer();nf(this);this.ra=j};function mf(a,b,c){a=a.lb(b,c);if(0<a.length)return a[0]}
s.lb=function(a,b){var c=[],d=this;C(this.Da,function(f){var e;e=d.$[Ed(f.shapes[0])];if("rect"==e.type)e=a<e.geometry.x||b<e.geometry.y||a>e.geometry.x+e.geometry.width||b>e.geometry.y+e.geometry.height?n:j;else if("polygon"==e.type){e=e.geometry.points;for(var h=n,k=e.length-1,l=0;l<e.length;l++)e[l].y>b!=e[k].y>b&&a<(e[k].x-e[l].x)*(b-e[l].y)/(e[k].y-e[l].y)+e[l].x&&(h=!h),k=l;e=h}else e=n;e&&c.push(f)});B.sort.call(c,function(a,b){var c=d.$[Ed(a.shapes[0])],k=d.$[Ed(b.shapes[0])];return Bd(c)-
Bd(k)}||Ia);return c};function of(a,b,c){var d=Da(a.e.ka(),function(a){return a.getSupportedShapeType()==b.type});d?d.drawShape(a.sa,b,c):console.log("WARNING unsupported shape type: "+b.type)}function nf(a){a.sa.clearRect(0,0,a.Z.width,a.Z.height);C(a.Da,function(b){b!=a.g&&of(a,a.$[Ed(b.shapes[0])])});if(a.g){var b=a.$[Ed(a.g.shapes[0])];of(a,b,j);b=Cd(b).geometry;a.e.popup.show(a.g,new vd(b.x,b.y+b.height+5))}};var pf="ontouchstart"in window,ef=!pf,hf=pf?"touchstart":"mousedown",qf=pf?"touchenter":"mouseover",lf=pf?"touchmove":"mousemove",rf=pf?"touchend":"mouseup",sf=pf?"touchleave":"mouseout";function jf(a,b){var c=n;a.offsetX=a.offsetX?a.offsetX:n;a.offsetY=a.offsetY?a.offsetY:n;return c=(!a.offsetX||!a.offsetY)&&a.n.changedTouches?{x:a.n.changedTouches[0].clientX-qd(b).left,y:a.n.changedTouches[0].clientY-qd(b).top}:{x:a.offsetX,y:a.offsetY}};function tf(){}s=tf.prototype;s.init=function(a,b){this.Oc="#000000";this.Qc="#ffffff";this.Ic=n;this.Kc="#000000";this.Mc="#fff000";this.Jc=n;this.Lc=this.Rc=this.Pc=1;this.Nc=1.2;this.Z=b;this.e=a;this.sa=b.getContext("2d");this.sa.lineWidth=1;this.dc=n};
s.Zb=function(){var a=this,b=this.Z;this.fc=O(this.Z,lf,function(c){console.log(c);c=jf(c,b);if(a.dc){a.w={x:c.x,y:c.y};a.sa.clearRect(0,0,b.width,b.height);var c=a.w.x-a.J.x,d=a.w.y-a.J.y;a.drawShape(a.sa,{type:"rect",geometry:{x:0<c?a.J.x:a.w.x,y:0<d?a.J.y:a.w.y,width:Math.abs(c),height:Math.abs(d)},style:{}})}});this.gc=O(b,rf,function(c){var d=jf(c,b),f=a.getShape(),c=c.n?c.n:c;a.dc=n;f?(a.vb(),a.e.fireEvent("onSelectionCompleted",{mouseEvent:c,shape:f,viewportBounds:a.getViewportBounds()})):
(a.e.fireEvent("onSelectionCanceled"),c=a.e.lb(d.x,d.y),0<c.length&&a.e.B(c[0]))})};s.vb=function(){this.fc&&(P(this.fc),delete this.fc);this.gc&&(P(this.gc),delete this.gc)};s.getName=aa("rect_drag");s.getSupportedShapeType=aa("rect");
s.fa=function(a){a.hasOwnProperty("outline")&&(this.Oc=a.outline);a.hasOwnProperty("stroke")&&(this.Qc=a.stroke);a.hasOwnProperty("fill")&&(this.Ic=a.fill);a.hasOwnProperty("hi_outline")&&(this.Kc=a.hi_outline);a.hasOwnProperty("hi_stroke")&&(this.Mc=a.hi_stroke);a.hasOwnProperty("hi_fill")&&(this.Jc=a.hi_fill);a.hasOwnProperty("outline_width")&&(this.Pc=a.outline_width);a.hasOwnProperty("stroke_width")&&(this.Rc=a.stroke_width);a.hasOwnProperty("hi_outline_width")&&(this.Lc=a.hi_outline_width);a.hasOwnProperty("hi_stroke_width")&&
(this.Nc=a.hi_stroke_width)};s.startSelection=function(a,b){var c={x:a,y:b};this.dc=j;this.Zb(c);this.J=new vd(a,b);this.e.fireEvent("onSelectionStarted",{offsetX:a,offsetY:b});R(document.body,"-webkit-user-select","none")};s.stopSelection=function(){this.vb();this.sa.clearRect(0,0,this.Z.width,this.Z.height);R(document.body,"-webkit-user-select","auto");delete this.w};
s.getShape=function(){if(this.w&&3<Math.abs(this.w.x-this.J.x)&&3<Math.abs(this.w.y-this.J.y)){var a=this.getViewportBounds(),a=this.e.Xb({x:a.left,y:a.top,width:a.right-a.left,height:a.bottom-a.top});return new Ad("rect",a)}};s.getViewportBounds=function(){var a,b;this.w.x>this.J.x?(a=this.w.x,b=this.J.x):(a=this.J.x,b=this.w.x);var c,d;this.w.y>this.J.y?(c=this.J.y,d=this.w.y):(c=this.w.y,d=this.J.y);return{top:c,right:a,bottom:d,left:b}};
s.drawShape=function(a,b,c){var d,f,e,h;b.style||(b.style={});"rect"==b.type&&(c?(d=b.style.hi_fill||this.Jc,c=b.style.hi_stroke||this.Mc,f=b.style.hi_outline||this.Kc,e=b.style.hi_outline_width||this.Lc,h=b.style.hi_stroke_width||this.Nc):(d=b.style.fill||this.Ic,c=b.style.stroke||this.Qc,f=b.style.outline||this.Oc,e=b.style.outline_width||this.Pc,h=b.style.stroke_width||this.Rc),b=b.geometry,f&&(a.lineJoin="round",a.lineWidth=e,a.strokeStyle=f,a.strokeRect(b.x+e/2,b.y+e/2,b.width-e,b.height-e)),
c&&(a.lineJoin="miter",a.lineWidth=h,a.strokeStyle=c,a.strokeRect(b.x+e+h/2,b.y+e+h/2,b.width-2*e-h,b.height-2*e-h)),d&&(a.lineJoin="miter",a.lineWidth=h,a.fillStyle=d,a.fillRect(b.x+e+h/2,b.y+e+h/2,b.width-2*e-h,b.height-2*e-h)))};function uf(a){return'<canvas class="annotorious-item annotorious-opacity-fade" style="position:absolute; top:0px; left:0px; width:'+Ue(a.width)+"px; height:"+Ue(a.height)+'px; z-index:0" width="'+Ue(a.width)+'" height="'+Ue(a.height)+'"></canvas>'}
function bf(a){return'<div class="annotorious-hint" style="white-space:nowrap; position:absolute; top:0px; left:0px; pointer-events:none;"><div class="annotorious-hint-msg annotorious-opacity-fade">'+Ue(a.Mb)+'</div><div class="annotorious-hint-icon" style="pointer-events:auto"></div></div>'};function vf(a,b){function c(b,c){R(d,"margin-"+b,c+"px");R(a,"margin-"+b,0);R(a,"padding-"+b,0)}this.ta=a;this.$c={padding:a.style.padding,margin:a.style.margin};this.r=new rd;this.va=[];this.xb=j;this.element=wb("div","annotorious-annotationlayer");R(this.element,"display","inline-block");var d=this.element,f=dd(a,"margin"),e=dd(a,"padding");(0!=f.top||0!=e.top)&&c("top",f.top+e.top);(0!=f.right||0!=e.right)&&c("right",f.right+e.right);(0!=f.bottom||0!=e.bottom)&&
c("bottom",f.bottom+e.bottom);(0!=f.left||0!=e.left)&&c("left",f.left+e.left);(f=a.parentNode)&&f.replaceChild(this.element,a);this.element.appendChild(a);f=$c(a);this.ha=Od(uf,{width:f.width+200,height:f.height+200});ef&&ib(this.ha,"annotorious-item-unfocus");this.element.appendChild(this.ha);this.c=Od(uf,{width:f.width+200,height:f.height+200});ef&&V(this.c,n);this.element.appendChild(this.c);this.popup=b?b:new df(this);f=new tf;f.init(this,this.c);this.va.push(f);this.F=f;this.editor=new $e(this);this.l=new kf(this.ha,
this);this.Za=new af(this,this.element);var h=this;ef&&(O(this.element,qf,function(a){a=a.relatedTarget;if(!a||!Bb(h.element,a))h.r.fireEvent("onMouseOverItem"),mb(h.ha,"annotorious-item-unfocus","annotorious-item-focus")}),O(this.element,sf,function(a){a=a.relatedTarget;if(!a||!Bb(h.element,a))h.r.fireEvent("onMouseOutOfItem"),mb(h.ha,"annotorious-item-focus","annotorious-item-unfocus")}));gf(this,pf?this.c:this.ha);this.r.addHandler("onSelectionCompleted",function(a){var b=a.viewportBounds;h.editor.setPosition(new vd(b.left+
h.ta.offsetLeft,b.bottom+4+h.ta.offsetTop));h.editor.open(n,a)});this.r.addHandler("onSelectionCanceled",function(){ef&&V(h.c,n);h.F.stopSelection()})}z(vf,ff);s=vf.prototype;s.aa=p();s.bd=function(a){a.init(this,this.c);this.va.push(a)};s.destroy=function(){var a=this.ta;a.style.margin=this.$c.margin;a.style.padding=this.$c.padding;var b=this.element,c=b.parentNode;c&&c.replaceChild(a,b)};
s.Db=function(a){var b=Yc(this.ta);return a.width?{x:a.x*b.width,y:a.y*b.height,width:a.width*b.width,height:a.height*b.height}:{x:a.x*b.width,y:a.y*b.height}};s.ja=r("F");s.v=function(){return this.l.v()};s.lb=function(a,b){return Fa(this.l.lb(a,b))};s.ka=r("va");s.getItem=function(){return{src:wf(this.ta),element:this.ta}};function wf(a){var b=a.getAttribute("data-original");return b?b:a.src}s.da=function(){V(this.ha,n)};s.M=function(){this.xb=n;this.Za&&(this.Za.destroy(),delete this.Za)};
s.Id=function(a){(this.F=Da(this.va,function(b){return b.getName()==a}))||console.log('WARNING: selector "'+a+'" not available')};s.fa=function(a){C(this.va,function(b){b.fa(a)});nf(this.l)};s.Ca=function(){V(this.ha,j)};s.Y=function(){this.xb=j;this.Za||(this.Za=new af(this,this.element))};s.stopSelection=function(a){ef&&V(this.c,n);this.F.stopSelection();a&&this.l.H(a)};
s.Xb=function(a){var b=Yc(this.ta);return a.width?{x:a.x/b.width,y:a.y/b.height,width:a.width/b.width,height:a.height/b.height}:{x:a.x/b.width,y:a.y/b.height}};vf.prototype.addSelector=vf.prototype.bd;vf.prototype.fireEvent=vf.prototype.fireEvent;vf.prototype.setCurrentSelector=vf.prototype.Id;vf.prototype.toItemCoordinates=vf.prototype.Xb;function xf(){Hd(this,function(){return M("img.annotatable",document)})}z(xf,Gd);xf.prototype.Fb=function(a){return wf(a)};xf.prototype.yc=function(a){return new vf(a)};xf.prototype.Wb=function(a){return Ab(a)?"IMG"==a.tagName:n};function yf(a){return'<div class="annotorious-opacity-fade" style="white-space:nowrap; position:absolute; pointer-events:none; top:80px; width:100%; text-align:center;"><div class="annotorious-ol-hint" style="width: 400px; margin:0px auto;">'+Ue(a.Mb)+"</dvi></div>"};function zf(a,b){this.W=a;this.Q=$c(b.element);this.j=b.popup;R(this.j.element,"z-index",99E3);this.t=[];this.sb=new OpenLayers.Layer.Boxes("Annotorious");this.W.addLayer(this.sb);var c=this;this.W.events.register("move",this.W,function(){c.G&&c.$a()});b.addHandler("beforePopupHide",function(){c.ua==c.G?c.j.clearHideTimer():c.eb(c.ua,c.G)})}s=zf.prototype;s.destroy=function(){this.sb.destroy()};
s.$a=function(){var a=this.G.Lb.div,b=$c(a),c=Uc(a,this.W.div),a=c.y,c=c.x,d=b.width,f=b.height,b=$c(this.j.element),a={y:a+f+5};c+b.width>this.Q.width?(mb(this.j.element,"top-left","top-right"),a.x=c+d-b.width):(mb(this.j.element,"top-right","top-left"),a.x=c);0>a.x&&(a.x=0);a.x+b.width>this.Q.width&&(a.x=this.Q.width-b.width);a.y+b.height>this.Q.height&&(a.y=this.Q.height-b.height);this.j.setPosition(a)};s.jc=function(a){this.j.setAnnotation(a);this.$a();this.j.show()};
s.eb=function(a,b){a?(Uc(a.Lb.div,this.W.div),ya("height"),R(a.pb,"border-color","#fff000"),this.G=a,this.jc(a.K)):delete this.G;b&&R(b.pb,"border-color","#fff")};
s.H=function(a){var b=a.shapes[0].geometry,b=new OpenLayers.Marker.Box(new OpenLayers.Bounds(b.x,b.y,b.x+b.width,b.y+b.height));ib(b.div,"annotorious-ol-boxmarker-outer");R(b.div,"border",m);var c=wb("div","annotorious-ol-boxmarker-inner");Xc(c,"100%","100%");b.div.appendChild(c);var d={K:a,Lb:b,pb:c},f=this;O(c,"mouseover",function(){f.G||f.eb(d);f.ua=d});O(c,"mouseout",function(){delete f.ua;f.j.startHideTimer()});this.t.push(d);B.sort.call(this.t,function(a,b){return Bd(b.K.shapes[0])-Bd(a.K.shapes[0])}||
Ia);var e=1E4;C(this.t,function(a){R(a.Lb.div,"z-index",e);e++});this.sb.addMarker(b)};s.T=function(a){var b=Da(this.t,function(b){return b.K==a});b&&(D(this.t,b),this.sb.removeMarker(b.Lb))};s.v=p();s.B=function(a){a||this.j.startHideTimer()};function Af(a){function b(){var a=parseInt(S(d.element,"width"),10),b=parseInt(S(d.element,"height"),10);Xc(d.c,a,b);d.c.width=a;d.c.height=b}this.W=a;this.element=a.div;var c=this.element.style[ya("position")]||"";"absolute"!=c&&"relative"!=c&&R(this.element,"position","relative");this.r=new rd;this.S=Od(yf,{Mb:"Click and Drag"});R(this.S,"z-index",9998);U(this.S,0);this.element.appendChild(this.S);this.popup=new df(this);this.l=new zf(a,this);this.c=Od(uf,{width:"0",height:"0"});V(this.c,n);R(this.c,
"position","absolute");R(this.c,"top","0px");R(this.c,"z-index",9999);this.element.appendChild(this.c);var d=this;b();this.F=new tf;this.F.init(this,this.c);this.cb=i;this.editor=new $e(this);R(this.editor.element,"z-index",1E4);window.addEventListener?window.addEventListener("resize",b,n):window.attachEvent&&window.attachEvent("onresize",b);O(this.element,"mouseover",function(a){a=a.relatedTarget;(!a||!Bb(d.element,a))&&d.r.fireEvent("onMouseOverItem")});O(this.element,"mouseout",function(a){a=a.relatedTarget;
(!a||!Bb(d.element,a))&&d.r.fireEvent("onMouseOutOfItem")});O(this.c,"mousedown",function(a){var b=Vc(d.element);d.F.startSelection(a.clientX-b.x,a.clientY-b.y)});this.r.addHandler("onSelectionCompleted",function(a){R(d.c,"pointer-events","none");a=a.viewportBounds;d.editor.setPosition(new vd(a.left,a.bottom+4));d.editor.open()});this.r.addHandler("onSelectionCanceled",function(){d.stopSelection()})}z(Af,ff);s=Af.prototype;s.Y=p();s.M=p();
s.aa=function(a){R(this.c,"pointer-events","auto");var b=this;V(this.c,j);U(this.S,0.8);window.setTimeout(function(){U(b.S,0)},2E3);a&&(this.cb=a)};s.destroy=function(){this.l.destroy();zb(this.S);zb(this.c)};s.bd=p();s.Db=function(a){var b=this.W.getViewPortPxFromLonLat(new OpenLayers.LonLat(a.x,a.y));return(a=a.width?this.W.getViewPortPxFromLonLat(new OpenLayers.LonLat(a.x+a.width,a.y+a.height)):n)?{x:b.x,y:a.y,width:a.x-b.x+2,height:b.y-a.y+2}:{x:b.x,y:b.y}};s.v=function(){return this.l.v()};
s.ka=p();s.getItem=function(){return{src:"map://openlayers/something"}};s.rb=p();s.Xb=function(a){var b=this.W.getLonLatFromPixel(new OpenLayers.Pixel(a.x,a.y));return(a=a.width?new OpenLayers.Pixel(a.x+a.width-2,a.y+a.height-2):n)?(a=this.W.getLonLatFromPixel(a),b={x:b.lon,y:a.lat,width:a.lon-b.lon,height:b.lat-a.lat},console.log(b),b):{x:b.lon,y:b.lat}};function Bf(){Hd(this)}z(Bf,Gd);Bf.prototype.Fb=aa("map://openlayers/something");Bf.prototype.yc=function(a){return new Af(a)};Bf.prototype.Wb=function(a){return a instanceof OpenLayers.Map};function Cf(a,b){this.R=a;this.Q=$c(a.element);this.j=b.popup;R(this.j.element,"z-index",99E3);this.t=[];var c=this;this.R.addHandler("animation",function(){c.G&&c.$a()});b.addHandler("beforePopupHide",function(){c.ua==c.G?c.j.clearHideTimer():c.eb(c.ua,c.G)})}s=Cf.prototype;
s.$a=function(){var a=this.R.element,b=this.G.Rb,c=$c(b),b=Uc(b,a),a=b.y,b=b.x,d=c.width,f=c.height,c=$c(this.j.element),a={x:b,y:a+f+12};mb(this.j.element,"top-right","top-left");this.R.isFullPage()||(b+c.width>this.Q.width&&(mb(this.j.element,"top-left","top-right"),a.x=b+d-c.width),0>a.x&&(a.x=0),a.x+c.width>this.Q.width&&(a.x=this.Q.width-c.width),a.y+c.height>this.Q.height&&(a.y=this.Q.height-c.height));this.j.setPosition(a)};s.jc=function(a){this.j.setAnnotation(a);this.$a();this.j.show()};
s.eb=function(a,b){a?(R(a.pb,"border-color","#fff000"),this.G=a,this.jc(a.K)):delete this.G;b&&R(b.pb,"border-color","#fff")};
s.H=function(a){var b=a.shapes[0].geometry,c=wb("div","annotorious-ol-boxmarker-outer"),d=wb("div","annotorious-ol-boxmarker-inner");Xc(d,"100%","100%");c.appendChild(d);var b=new OpenSeadragon.Rect(b.x,b.y,b.width,b.height),f={K:a,Rb:c,pb:d},e=this;O(d,"mouseover",function(){e.G||e.eb(f);e.ua=f});O(d,"mouseout",function(){delete e.ua;e.j.startHideTimer()});this.t.push(f);B.sort.call(this.t,function(a,b){return Bd(b.K.shapes[0])-Bd(a.K.shapes[0])}||Ia);var h=1;C(this.t,function(a){R(a.Rb,"z-index",
h);h++});this.R.addOverlay(c,b)};s.T=function(a){var b=Da(this.t,function(b){return b.K==a});b&&(D(this.t,b),this.R.removeOverlay(b.Rb))};s.v=r("t");s.B=p();s.destroy=function(){var a=this;C(this.t,function(b){a.R.removeOverlay(b.Rb)});this.t=[]};function Df(a){this.element=a.element;var b=document;b.querySelectorAll&&b.querySelector?b=b.querySelector(".openseadragon-container"):(b=document,b=(b.querySelectorAll&&b.querySelector?b.querySelectorAll(".openseadragon-container"):b.getElementsByClassName?b.getElementsByClassName("openseadragon-container"):tb())[0]);R(b||m,"z-index",0);this.R=a;this.r=new rd;this.va=[];this.xb=j;this.S=Od(yf,{Mb:"Click and Drag"});U(this.S,0);this.element.appendChild(this.S);this.popup=new df(this);this.l=new Cf(a,
this);this.c=Od(uf,{width:"0",height:"0"});V(this.c,n);this.element.appendChild(this.c);var c=this,a=parseInt(S(c.element,"width"),10),b=parseInt(S(c.element,"height"),10);Xc(c.c,a,b);c.c.width=a;c.c.height=b;a=new tf;a.init(this,this.c);this.va.push(a);this.F=a;this.editor=new $e(this);gf(this,this.c);this.r.addHandler("onSelectionCompleted",function(a){a=a.viewportBounds;c.editor.setPosition(new vd(a.left,a.bottom+4));c.editor.open()});this.r.addHandler("onSelectionCanceled",function(){c.stopSelection()})}
z(Df,ff);s=Df.prototype;s.Y=p();s.M=p();s.destroy=function(){this.l.destroy();delete this.l};s.aa=function(a){R(this.c,"pointer-events","auto");var b=this;V(this.c,j);U(this.S,0.8);window.setTimeout(function(){U(b.S,0)},2E3);a&&(this.cb=a)};
s.Db=function(a){var b=qd(this.element);b.top+=window.pageYOffset;b.left+=window.pageXOffset;var c=new OpenSeadragon.Point(a.x,a.y),a=a.width?new OpenSeadragon.Point(a.x+a.width,a.y+a.height):n,c=this.R.viewport.viewportToWindowCoordinates(c);return a?(a=this.R.viewport.viewportToWindowCoordinates(a),{x:c.x-b.left,y:c.y-b.top,width:a.x-c.x+2,height:a.y-c.y+2}):c};s.v=function(){return this.l.t};s.ka=p();s.getItem=function(){return{src:"dzi://openseadragon/something"}};s.rb=p();s.ja=r("F");
s.Xb=function(a){var b=qd(this.element);b.top+=window.pageYOffset;b.left+=window.pageXOffset;var c=new OpenSeadragon.Point(a.x+b.left,a.y+b.top),a=a.width?new OpenSeadragon.Point(a.x+b.left+a.width-2,a.y+b.top+a.height-2):n,c=this.R.viewport.windowToViewportCoordinates(c);return a?(a=this.R.viewport.windowToViewportCoordinates(a),{x:c.x,y:c.y,width:a.x-c.x,height:a.y-c.y}):c};function Ef(){Hd(this)}z(Ef,Gd);Ef.prototype.Fb=aa("dzi://openseadragon/something");Ef.prototype.yc=function(a){return new Df(a)};Ef.prototype.Wb=function(a){return!a.id||0!=a.id.indexOf("openseadragon")||!a.hasOwnProperty("drawer")?n:j};function Y(){function a(){Ff(b)}this.Vc=n;this.k=[new xf];window.OpenLayers&&this.k.push(new Bf);window.OpenSeadragon&&this.k.push(new Ef);this.ab=[];var b=this;window.addEventListener?window.addEventListener("load",a,n):window.attachEvent&&window.attachEvent("onload",a)}function Ff(a){a.Vc||(C(a.k,function(a){a.init()}),C(a.ab,function(b){b.initPlugin&&b.initPlugin(a);C(a.k,function(a){a.yb(b)})}),a.Vc=j)}function Z(a,b){return Da(a.k,function(a){return Nd(a,b)})}s=Y.prototype;
s.aa=function(a,b){var c=i,d=i;u(a)?(c=a,d=b):v(a)&&(d=a);if(c){var f=Z(this,c);f&&f.aa(c,d)}else C(this.k,function(a){a.aa(d)})};s.H=function(a,b){var c;c=a.src;if(!(0<c.indexOf("://"))){var d=document.createElement("a");d.href=c;c=d.protocol+"//"+d.host+d.pathname}a.src=c;(c=Z(this,a.src))&&c.H(a,b)};s.addHandler=function(a,b){C(this.k,function(c){c.addHandler(a,b)})};
s.yb=function(a,b){try{var c=new window.annotorious.plugin[a](b);"complete"==document.readyState?(c.initPlugin&&c.initPlugin(this),C(this.k,function(a){a.yb(c)})):this.ab.push(c)}catch(d){console.log("Could not load plugin: "+a)}};s.destroy=function(a){if(a){var b=Z(this,a);b&&b.destroy(a)}else C(this.k,function(a){a.destroy()})};s.ja=function(a){var b=Z(this,a);if(b)return b.ja(a)};s.v=function(a){if(a){var b=Z(this,a);return b?b.v(a):[]}var c=[];C(this.k,function(a){Ga(c,a.v())});return c};
s.ka=function(a){var b=Z(this,a);return b?b.ka(a):[]};s.da=function(a){console.log("passage1");if(a){console.log("passage2");var b=Z(this,a);b&&(console.log("passage3"),b.da(a))}else C(this.k,function(a){a.da()})};s.M=function(a){if(a){var b=Z(this,a);b&&b.M(a)}else C(this.k,function(a){a.M()})};s.B=function(a){if(a){var b=Z(this,a.src);b&&b.B(a)}else C(this.k,function(a){a.B()})};s.wc=function(a){Ff(this);var b=Da(this.k,function(b){return b.Wb(a)});b?b.wc(a):g("Error: Annotorious does not support this media type in the current version or build configuration.")};
s.Sb=function(a){var b=this;C(this.v(a),function(a){b.T(a)})};s.T=function(a){var b=Z(this,a.src);b&&b.T(a)};s.reset=function(){C(this.k,function(a){a.destroy();a.init()})};s.rb=function(a,b){var c=Z(this,a);c&&c.rb(a,b)};s.fa=function(a){C(this.k,function(b){b.fa(a)})};s.je=function(a){a?this.Y(i):this.M(i)};s.Ca=function(a){if(a){var b=Z(this,a);b&&b.Ca(a)}else C(this.k,function(a){a.Ca()})};s.Y=function(a){if(a){var b=Z(this,a);b&&b.Y(a)}else C(this.k,function(a){a.Y()})};window.anno=new Y;Y.prototype.activateSelector=Y.prototype.aa;Y.prototype.addAnnotation=Y.prototype.H;Y.prototype.addHandler=Y.prototype.addHandler;Y.prototype.addPlugin=Y.prototype.yb;Y.prototype.destroy=Y.prototype.destroy;Y.prototype.getActiveSelector=Y.prototype.ja;Y.prototype.getAnnotations=Y.prototype.v;Y.prototype.getAvailableSelectors=Y.prototype.ka;Y.prototype.hideAnnotations=Y.prototype.da;Y.prototype.hideSelectionWidget=Y.prototype.M;Y.prototype.highlightAnnotation=Y.prototype.B;
Y.prototype.makeAnnotatable=Y.prototype.wc;Y.prototype.removeAll=Y.prototype.Sb;Y.prototype.removeAnnotation=Y.prototype.T;Y.prototype.reset=Y.prototype.reset;Y.prototype.setActiveSelector=Y.prototype.rb;Y.prototype.setProperties=Y.prototype.fa;Y.prototype.showAnnotations=Y.prototype.Ca;Y.prototype.showSelectionWidget=Y.prototype.Y;window.annotorious||(window.annotorious={});window.annotorious.plugin||(window.annotorious.plugin={});
window.annotorious.geometry||(window.annotorious.geometry={},window.annotorious.geometry.expand=Dd,window.annotorious.geometry.getBoundingRect=Cd);Y.prototype.setSelectionEnabled=Y.prototype.je;

